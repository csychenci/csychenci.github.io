(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[36],{NSl0:function(n,e,t){"use strict";t.r(e);var l=t("q1tI"),a=t.n(l),o=t("dEAq"),c=(t("0H/f"),t("N0lm"),t("DgDr"),t("cGlH"),t("ekZX"),t("Bjia")),r=t("tVxl"),i=(t("1pSt"),a.a.memo((n=>{n.demos;return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"markdown"},a.a.createElement("h2",{id:"this"},a.a.createElement(o["AnchorLink"],{to:"#this","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"this"),a.a.createElement("hr",null),a.a.createElement("ol",null,a.a.createElement("li",null,"\u51b3\u5b9a this \u7684\u662f\u4ec0\u4e48")),a.a.createElement("ul",null,a.a.createElement("li",null,"this \u63d0\u4f9b\u4e86\u4e00\u79cd\u66f4\u4f18\u96c5\u7684\u65b9\u5f0f\u6765\u9690\u5f0f\u4f20\u9012\u4e00\u4e2a\u5bf9\u8c61\u5f15\u7528\uff0c\u56e0\u6b64\u53ef\u4ee5\u5c06 api \u8bbe\u8ba1\u5f97\u66f4\u52a0\u7b80\u6d01\u5e76\u4e14\u6613\u4e8e\u590d\u7528\u3002"),a.a.createElement("li",null,"this \u662f\u5728\u4ee3\u7801\u7684 ",a.a.createElement("strong",null,"\u89e3\u6790\u9636\u6bb5")," \u88ab\u786e\u5b9a\u7684\uff0c\u5728\u6267\u884c\u4e0a\u4e0b\u6587\u88ab\u521b\u5efa\u65f6\u88ab\u786e\u5b9a\u3002\u4e00\u822c\u60c5\u51b5\u4e0b\u53d6\u51b3\u4e8e\u51fd\u6570\u4e0a\u4e0b\u6587\u73af\u5883\u6216\u5982\u4f55\u88ab\u8c03\u7528\uff0c\u901a\u5e38\u662f\u88ab\u8c03\u7528\u65f6\u786e\u5b9a\uff0c\u5e76\u4e0d\u53d6\u51b3\u4e8e\u51fd\u6570\u58f0\u660e\u65f6\u7684\u4f4d\u7f6e\uff0c\u800c\u662f\u62e5\u6709\u8005\uff0c\u4e5f\u5c31\u662f\u51fd\u6570\u5728\u54ea\u91cc\u88ab\u8c03\u7528"),a.a.createElement("li",null,"es6 \u7684\u7bad\u5934\u51fd\u6570\u4e2d\u4e0d\u5b58\u5728 this\uff0c\u5b83\u7684 this \u53d6\u51b3\u4e8e\u7236\u7ea7\u73af\u5883\u6240\u5904\u7684\u4e0a\u4e0b\u6587\uff0c\u56e0\u6b64\u5b83\u7684 this \u4e00\u822c\u5728\u521b\u5efa\u65f6\u5c31\u5df2\u88ab\u786e\u5b9a")),a.a.createElement("blockquote",null,a.a.createElement("p",null,"this \u5728\u4efb\u4f55\u60c5\u51b5\u4e0b\u90fd\u4e0d\u6307\u5411\u51fd\u6570\u7684\u8bcd\u6cd5\u4f5c\u7528\u57df\u3002\u5728 js \u5185\u90e8\uff0c\u4f5c\u7528\u57df\u786e\u5b9e\u548c\u5bf9\u8c61\u7c7b\u4f3c\uff0c\u53ef\u89c1\u7684\u6807\u8bc6\u7b26\u90fd\u662f\u5b83\u7684\u5c5e\u6027\u3002\u4f46\u662f\u4f5c\u7528\u57df\u5bf9\u8c61\u65e0\u6cd5\u901a\u8fc7 js \u4ee3\u7801\u8bbf\u95ee\uff0c\u5b83\u5b58\u5728\u4e8e js \u5f15\u64ce\u5185\u90e8")),a.a.createElement("blockquote",null,a.a.createElement("p",null,"\u8bcd\u6cd5\u4f5c\u7528\u57df\u662f\u5728\u5199\u4ee3\u7801\u6216\u8005\u8bf4\u5b9a\u4e49\u65f6\u786e\u5b9a\u7684\uff0c\u800c\u52a8\u6001\u4f5c\u7528\u57df\u662f\u5728\u8fd0\u884c\u65f6\u786e\u5b9a\u7684\u3002\uff08this \u4e5f\u662f\uff01\uff09\u8bcd\u6cd5\u4f5c\u7528\u57df\u5173\u6ce8\u51fd\u6570\u5728\u4f55\u5904\u58f0\u660e\uff0c\u800c\u52a8\u6001\u4f5c\u7528\u57df\u5173\u6ce8\u51fd\u6570\u4ece\u4f55\u5904\u8c03\u7528")),a.a.createElement("ol",{start:2},a.a.createElement("li",null,"this \u7684\u7ed1\u5b9a\u89c4\u5219")),a.a.createElement(r["a"],null,a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",{align:"center"},"\u7ed1\u5b9a\u89c4\u5219"),a.a.createElement("th",{align:"left"},"\u5bf9\u5e94\u4f7f\u7528\u65b9\u5f0f"))),a.a.createElement("tbody",null,a.a.createElement("tr",null,a.a.createElement("td",{align:"center"},"\u9ed8\u8ba4\u7ed1\u5b9a"),a.a.createElement("td",{align:"left"},"\u5bf9\u5e94\u51fd\u6570\u7684\u72ec\u7acb\u8c03\u7528")),a.a.createElement("tr",null,a.a.createElement("td",{align:"center"},"\u9690\u5f0f\u7ed1\u5b9a"),a.a.createElement("td",{align:"left"},"\u5bf9\u5e94\u51fd\u6570\u7684\u65b9\u6cd5\u8c03\u7528")),a.a.createElement("tr",null,a.a.createElement("td",{align:"center"},"\u663e\u5f0f\u7ed1\u5b9a"),a.a.createElement("td",{align:"left"},"\u5bf9\u5e94\u51fd\u6570\u7684\u95f4\u63a5\u8c03\u7528")),a.a.createElement("tr",null,a.a.createElement("td",{align:"center"},"new \u7ed1\u5b9a"),a.a.createElement("td",{align:"left"},"\u5bf9\u5e94\u51fd\u6570\u7684\u6784\u9020\u8c03\u7528")))),a.a.createElement("ol",{start:3},a.a.createElement("li",null,"\u9ed8\u8ba4\u7ed1\u5b9a")),a.a.createElement("ul",null,a.a.createElement("li",null,"\u5728\u5168\u5c40\u73af\u5883\u4e2d\u72ec\u7acb\u8c03\u7528\u65f6\uff0c\u9ed8\u8ba4\u7ed1\u5b9a\u5230 window")),a.a.createElement(c["a"],{code:"function fn() {\n  console.log(this);\n  console.log(this === window);\n}\nfn(); // window true",lang:"js"}),a.a.createElement("ul",null,a.a.createElement("li",null,"\u5168\u5c40\u73af\u5883\u4e2d\u7684 this \u6307\u5411\u5168\u5c40\u5bf9\u8c61 window")),a.a.createElement(c["a"],{code:"console.log(this === window); //true",lang:"js"}),a.a.createElement("ul",null,a.a.createElement("li",null,"\u51fd\u6570\u7684\u5d4c\u5957\u8c03\u7528\u65f6\uff0cthis \u9ed8\u8ba4\u7ed1\u5b9a\u5230 window")),a.a.createElement(c["a"],{code:"var a = 1;\n\nvar obj = {\n  a: 2,\n  test: function () {\n    function innertest() {\n      console.log(this.a); // 1\n    }\n    console.log(this.a); // 2\n    innertest();\n  },\n};\n\nobj.test();",lang:"js"}),a.a.createElement("ul",null,a.a.createElement("li",null,"\u867d\u7136 innsertest \u51fd\u6570\u88ab\u5d4c\u5957\u5728 obj.test \u51fd\u6570\u4e2d\uff0c\u4f46 innertest \u51fd\u6570\u662f\u72ec\u7acb\u8c03\u7528\uff0c\u800c\u4e0d\u662f\u4f5c\u4e3a\u65b9\u6cd5\u88ab\u8c03\u7528\uff0c\u6240\u4ee5 this \u9ed8\u8ba4\u7ed1\u5b9a\u5230 window"),a.a.createElement("li",null,"IIFE\uff1a\u81ea\u6267\u884c\u51fd\u6570\uff0c\u4e5f\u5c31\u662f\u5728\u51fd\u6570\u58f0\u660e\u540e\uff0c\u76f4\u63a5\u8c03\u7528\u6267\u884c")),a.a.createElement(c["a"],{code:"var a = 'window';\nfunction test() {\n  var a = 'test';\n  (function innertest() {\n    console.log(this.a);\n  })();\n  console.log(this.a);\n}\nvar obj = {\n  a: 3,\n  fn: test,\n};\nobj.fn(); // 'window' 3",lang:"js"}),a.a.createElement(c["a"],{code:"// \u7b49\u4ef7\u4e8e\u4e0a\u4f8b\nvar a = 'window';\nfunction test() {\n  var a = 'test';\n  function innertest() {\n    console.log(this.a);\n  }\n  innertest();\n  console.log(this.a);\n}\nvar obj = {\n  a: 3,\n  fn: test,\n};\nobj.fn(); // 'window' 3",lang:"js"}),a.a.createElement("ul",null,a.a.createElement("li",null,"\u95ed\u5305\uff1a\u5728\u6709\u4e9b\u60c5\u51b5\u7684\u95ed\u5305\u4e2d\uff0cthis \u4f1a\u51fa\u73b0\u9ed8\u8ba4\u7ed1\u5b9a\u7684\u60c5\u51b5")),a.a.createElement(c["a"],{code:"var a = 'window';\nfunction fn() {\n  var a = 'fn';\n  function test() {\n    console.log(this.a);\n  }\n  return test;\n}\nvar obj = {\n  a: 'obj',\n  fn1: fn,\n};\nlet res = obj.fn1();\nres(); // 'window'",lang:"js"}),a.a.createElement("ul",null,a.a.createElement("li",null,"\u5728\u4e0a\u4f8b\u4e2d\uff0cres \u51fd\u6570\u5c5e\u4e8e\u72ec\u7acb\u8c03\u7528\uff0c\u800c\u4e0d\u662f\u65b9\u6cd5\u8c03\u7528\uff0c\u56e0\u6b64 this \u9ed8\u8ba4\u7ed1\u5b9a\u5230 window"),a.a.createElement("li",null,"\u95ed\u5305\u4e2d\u7684 this \u5e38\u5e38\u4f1a\u51fa\u73b0\u76f4\u63a5\u8c03\u7528\u800c\u9ed8\u8ba4\u7ed1\u5b9a\u5230\u5168\u5c40\u5bf9\u8c61\uff0c\u4f46\u53c8\u5e38\u5e38\u9700\u8981\u8bbf\u95ee\u5d4c\u5957\u51fd\u6570\u7684 this,\u6240\u4ee5\u5e38\u5e38\u5728\u5d4c\u5957\u51fd\u6570\u4e2d\u4f7f\u7528 var that=this\uff0c\u7136\u540e\u5728\u95ed\u5305\u4e2d\u4f7f\u7528 that \u4ee3\u66ff this\uff0c\u4f7f\u7528\u4f5c\u7528\u57df\u67e5\u627e\u7684\u65b9\u6cd5\u6765\u627e\u5230\u5d4c\u5957\u51fd\u6570\u7684 this")),a.a.createElement(c["a"],{code:"var a = 'window';\nfunction fn() {\n  var a = 'fn';\n  var that = this; // \u5c06\u73af\u5883\u4e2d\u7684this\u4fdd\u5b58\u4e0b\u6765\n  function test() {\n    console.log(that.a);\n  }\n  return test;\n}\nvar obj = {\n  a: 'obj',\n  fn1: fn,\n};\nlet res = obj.fn1();\nres(); // 'obj'",lang:"js"}),a.a.createElement("ol",{start:4},a.a.createElement("li",null,"\u9690\u5f0f\u7ed1\u5b9a")),a.a.createElement("ul",null,a.a.createElement("li",null,"\u9690\u5f0f\u7ed1\u5b9a\uff1a\u5f53\u67d0\u4e2a\u51fd\u6570\u5f15\u7528\u6709\u4e0a\u4e0b\u6587\u5bf9\u8c61\u65f6\uff0c\u9690\u5f0f\u7ed1\u5b9a\u4f1a\u628a\u51fd\u6570\u8c03\u7528\u7684 this \u7ed1\u5b9a\u5230\u8fd9\u4e2a\u4e0a\u4e0b\u6587\u5bf9\u8c61\uff0c\u8fd9\u79cd\u6211\u4eec\u4e5f\u79f0\u4e4b\u4e3a\u65b9\u6cd5\u8c03\u7528")),a.a.createElement(c["a"],{code:"function fn() {\n  console.log(this);\n  console.log(this.a);\n}\nvar obj1 = {\n  a: 1,\n  fn: fn,\n  obj2: {\n    a: 2,\n    fn: fn,\n  },\n};\nobj1.fn(); // obj1 1\n// fn() \u51fd\u6570\u7684\u76f4\u63a5\u5bf9\u8c61\u662fobj1\uff0cfn\u88ab\u5bf9\u8c61obj1\u6240\u62e5\u6709\uff0cobj1\u4e3a\u8c03\u7528\u8005\uff0cthis\u9690\u5f0f\u7ed1\u5b9a\u5230obj1\nobj1.obj2.fn(); // obj2 2\n// fn() \u51fd\u6570\u7684\u76f4\u63a5\u5bf9\u8c61\u662fobj2\uff0cfn\u88ab\u5bf9\u8c61obj2\u6240\u62e5\u6709\uff0cobj2\u4e3a\u8c03\u7528\u8005\uff0cthis\u9690\u5f0f\u7ed1\u5b9a\u5230obj2",lang:"js"}),a.a.createElement("ul",null,a.a.createElement("li",null,"\u9690\u5f0f\u4e22\u5931\uff1a\u4e00\u4e2a\u6700\u5e38\u89c1\u7684 this \u7ed1\u5b9a\u95ee\u9898\u5c31\u662f\u88ab\u9690\u5f0f\u7ed1\u5b9a\u7684\u51fd\u6570\u4f1a\u4e22\u5931\u7ed1\u5b9a\u5bf9\u8c61\uff0c\u4e5f\u5c31\u662f\u8bf4\u5b83\u4f1a\u5e94\u7528\u9ed8\u8ba4\u7ed1\u5b9a\uff0c\u4ece\u800c\u628a this \u7ed1\u5b9a\u5230\u5168\u5c40\u5bf9\u8c61\u6216\u8005 undefined \u4e0a\uff0c\u53d6\u51b3\u4e8e\u662f\u5426\u662f\u4e25\u683c\u6a21\u5f0f"),a.a.createElement("li",null,"\u5c06\u51fd\u6570\u5f15\u7528\u901a\u8fc7\u51fd\u6570\u522b\u540d\u8fdb\u884c\u4f20\u9012\u7684\u60c5\u51b5")),a.a.createElement(c["a"],{code:"var name = 'window';\nfunction fn() {\n  console.log(this, this.name);\n}\nvar obj = {\n  name: 'obj',\n  fn: fn,\n};\nvar obj1 = obj.fn;\n// \u628aobj.fn\u8d4b\u4e88\u522b\u540dobj1\uff0c\u9020\u6210\u4e86\u9690\u5f0f\u4e22\u5931\uff0c\u56e0\u4e3a\u53ea\u628afn\u51fd\u6570\u7684\u5f15\u7528\u8d4b\u7ed9\u4e86obj1\uff0c\u800cobj1\u4e0eobj\u5bf9\u8c61\u6beb\u65e0\u5173\u7cfb\nobj1(); // window 'window'",lang:"js"}),a.a.createElement(c["a"],{code:"// \u7b49\u4ef7\u4e8e\u4e0a\u4f8b\nvar name = 'window';\nvar obj1 = function fn() {\n  console.log(this, this.name);\n};\nobj1(); // window 1",lang:"js"}),a.a.createElement("ul",null,a.a.createElement("li",null,"\u5c06\u51fd\u6570\u5f15\u7528\u4f5c\u4e3a\u53c2\u6570\u4f20\u9012\u7684\u60c5\u51b5")),a.a.createElement(c["a"],{code:"var name = 'window';\nfunction fn1() {\n  console.log(this, this.name);\n}\nfunction obj1(fn) {\n  fn();\n}\nvar obj = {\n  name: 'obj',\n  fn1: fn1,\n};\nobj1(obj.fn); // window 'window'\n// \u628aobj.fn1\u5f53\u4f5c\u53c2\u6570\u4f20\u9012\u7ed9obj1\u65f6\uff0c\u6709\u9690\u5f0f\u7684\u51fd\u6570\u8d4b\u503cfn=obj.fn1\u3002\u7c7b\u4f3c\u4e8e\u51fd\u6570\u522b\u540d\n//\u53ea\u662f\u628afn1\u51fd\u6570\u5f15\u7528\u8d4b\u7ed9\u4e86fn\uff0c\u800cfn\u4e0eobj\u5bf9\u8c61\u6beb\u65e0\u5173\u7cfb\uff0c\u5e76\u4e14fn1\u51fd\u6570\u4f20\u8fdb\u53bb\u662f\u51fd\u6570\u8c03\u7528\u6a21\u5f0f\uff0c\u6240\u4ee5this\u7ed1\u5b9a\u5168\u5c40\u5bf9\u8c61",lang:"js"}),a.a.createElement(c["a"],{code:"var name = 'window';\nfunction obj1(fn) {\n  fn();\n}\nobj1(function fn1() {\n  console.log(this, this.name);\n}); // window 'window'",lang:"js"}),a.a.createElement("ul",null,a.a.createElement("li",null,"\u5c06\u51fd\u6570\u7684\u5f15\u7528\u4f20\u9012\u7ed9\u5185\u7f6e\u51fd\u6570")),a.a.createElement(c["a"],{code:"var name = 'window';\nfunction fn1() {\n  console.log(this, this.name);\n}\nvar obj = {\n  name: 'obj',\n  fn1: fn1,\n};\nsetTimeout(obj.fn1, 100); //window 'window'\n// setTimeout\u7b2c\u4e00\u4e2a\u53c2\u6570\u4f20\u7684\u4e00\u5b9a\u662f\u4e00\u4e2a\u51fd\u6570\u5f15\u7528\uff0c\u800c\u4e0d\u662f\u6267\u884c\u51fd\u6570",lang:"js"}),a.a.createElement(c["a"],{code:"// \u7b49\u4ef7\u4e8e\u4e0a\u4f8b\nvar name = 'window';\nsetTimeout(function fn1() {\n  console.log(this, this.name); //window 'window'\n}, 100);",lang:"js"}),a.a.createElement("ul",null,a.a.createElement("li",null,"\u51fd\u6570\u7684\u95f4\u63a5\u5f15\u7528\u7684\u60c5\u51b5\uff0c\u4e00\u822c\u90fd\u662f\u5728\u65e0\u610f\u95f4\u521b\u5efa\u7684\uff0c\u6700\u5bb9\u6613\u53d1\u751f\u5728\u8d4b\u503c\u65f6\uff0c\u4e5f\u4f1a\u9020\u6210\u9690\u5f0f\u4e22\u5931")),a.a.createElement(c["a"],{code:"function foo() {\n  console.log(this, this.a);\n}\nvar a = 2;\nvar o = { a: 3, foo: foo };\nvar p = { a: 4 };\no.foo(); // o 3\n\n(p.foo = o.foo)(); // window 2\n/** \n * \u5c06o.foo\u51fd\u6570\u8d4b\u503c\u7ed9\u5bf9\u8c61 o \u7684 foo \u5c5e\u6027\u4e0a\uff0c\u8fd4\u56de\u503c\u4e3a foo \u51fd\u6570\u7684\u5f15\u7528\n * \u76f8\u5f53\u4e8e\u72ec\u7acb\u8c03\u7528\uff0cthis \u6307\u5411\u5168\u5c40\n*/",lang:"js"}),a.a.createElement(c["a"],{code:"function foo() {\n  console.log(this.a);\n}\nvar a = 2;\nvar o = { a: 3, foo: foo };\nvar p = { a: 4 };\no.foo(); // 3\n//\u5c06o.foo\u51fd\u6570\u8d4b\u503c\u7ed9p.foo\u51fd\u6570\uff0c\u4e4b\u540ep.foo\u51fd\u6570\u518d\u6267\u884c\uff0c\u662f\u5c5e\u4e8ep\u5bf9\u8c61\u7684foo\u51fd\u6570\u7684\u6267\u884c\np.foo = o.foo;\np.foo(); //4",lang:"js"}),a.a.createElement("ul",null,a.a.createElement("li",null,"\u8fd8\u6709\u4e00\u4e9b\u60c5\u51b5\u4e5f\u4f1a\u9020\u6210 ",a.a.createElement("code",null,"\u9690\u5f0f\u4e22\u5931"),"\u3002\u5728 ",a.a.createElement("code",null,"JavaScript")," \u5185\u90e8\uff0c",a.a.createElement("code",null,"\u5bf9\u8c61")," \u4e0e ",a.a.createElement("code",null,"\u5bf9\u8c61\u65b9\u6cd5")," \u50a8\u5b58\u4e24\u4e2a\u5730\u5740\uff0c\u7b80\u79f0\u4e3a A \u548c B\u3002\u53ea\u6709 ",a.a.createElement("code",null,"\u5bf9\u8c61.\u65b9\u6cd5")," \u8fd9\u79cd\u65b9\u5f0f\u8c03\u7528\u65f6\uff0c\u662f\u4ece A \u8c03\u7528 B\uff0c\u56e0\u6b64 ",a.a.createElement("code",null,"this")," \u6307\u5411\u8be5 ",a.a.createElement("code",null,"\u8c03\u7528\u5bf9\u8c61"),"\uff0c\u5982\u679c\u662f\u76f4\u63a5\u53d6\u51fa B \u8fdb\u884c\u8fd0\u7b97\uff0c\u7136\u540e\u5728\u5168\u5c40\u6267\u884c\u73af\u5883\u4e2d\u6267\u884c\u8c03\u7528\uff0c\u5219\u6b64\u65f6 ",a.a.createElement("code",null,"this")," \u6307\u5411 ",a.a.createElement("code",null,"\u5168\u5c40\u5bf9\u8c61"))),a.a.createElement(c["a"],{code:"var name = 'window';\nvar obj = {\n  name: 'obj',\n  foo: foo,\n};\nvar obj1 = {\n  name: 'obj1',\n};\nfunction foo() {\n  console.log(this, this.name);\n}\n\n(obj1.foo = obj.foo)(); //window 'window'\n\n(false || obj.foo)(); //window 'window'\n\n(1, obj.foo)(); //window 'window'",lang:"js"}),a.a.createElement("ol",{start:5},a.a.createElement("li",null,"\u663e\u5f0f\u7ed1\u5b9a")),a.a.createElement("ul",null,a.a.createElement("li",null,"\u901a\u8fc7 ",a.a.createElement("code",null,"call"),"\u3001",a.a.createElement("code",null,"apply"),"\u3001",a.a.createElement("code",null,"bind")," \u65b9\u6cd5\u628a\u5bf9\u8c61\u7ed1\u5b9a\u5230 ",a.a.createElement("code",null,"this"),"\uff0c\u4e5f\u5c31\u662f\u628a\u51fd\u6570\u4e2d\u7684 ",a.a.createElement("code",null,"this")," \u624b\u52a8\u7684\u6307\u5411\u4e86\u4f20\u5165\u7684\u5bf9\u8c61\u3002\u8fd9\u79cd\u65b9\u6cd5\u53eb\u505a ",a.a.createElement("code",null,"\u663e\u793a\u7ed1\u5b9a"),"\uff0c\u4f46\u5bf9\u4e8e\u88ab\u8c03\u7528\u7684\u51fd\u6570\u6765\u8bf4\uff0c\u53eb\u505a ",a.a.createElement("code",null,"\u95f4\u63a5\u8c03\u7528")),a.a.createElement("li",null,"\u5f53\u4f60\u4f20\u5165\u4e00\u4e2a ",a.a.createElement("code",null,"\u539f\u59cb\u503c")," \u65f6\u6765\u4f5c\u4e3a\u7ed1\u5b9a\u7684\u5bf9\u8c61\uff0c",a.a.createElement("code",null,"JavaScript")," \u4f1a\u4ee5\u8be5\u5b57\u9762\u91cf\u503c\u521b\u5efa\u76f8\u5e94\u7684 ",a.a.createElement("code",null,"\u5bf9\u8c61\u5305\u88c5\u5668"),"\uff0c\u901a\u8fc7 ",a.a.createElement("code",null,"\u4e34\u65f6\u5bf9\u8c61")," \u6765\u8fdb\u884c\u5de5\u4f5c")),a.a.createElement(c["a"],{code:"var name = 'window';\nfunction foo() {\n  console.log(this, this.name);\n}\nvar obj = {\n  name: 'obj',\n};\nfoo(); //window window\nfoo.call(obj); //obj obj\nfoo.call(1);\n// Number\xa0{1} undefined",lang:"js"}),a.a.createElement("ul",null,a.a.createElement("li",null,"\u7136\u800c\u666e\u901a\u7684\u663e\u5f0f\u7ed1\u5b9a\u4f9d\u7136\u65e0\u6cd5\u89e3\u51b3\u9690\u5f0f\u4e22\u5931\u7684\u95ee\u9898")),a.a.createElement(c["a"],{code:"var name = 'window';\nfunction foo() {\n  console.log(this, this.name);\n}\nvar obj1 = {\n  name: 'obj1',\n};\nvar obj2 = {\n  name: 'obj2',\n};\nfoo.call(obj1); //obj1 obj1\nfoo.call(obj2); //obj2 obj2",lang:"js"}),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("code",null,"\u786c\u7ed1\u5b9a"),"\uff1a\u5c5e\u4e8e ",a.a.createElement("code",null,"\u663e\u793a\u7ed1\u5b9a")," \u7684\u4e00\u4e2a\u53d8\u79cd\uff0c\u4f7f ",a.a.createElement("code",null,"this")," \u4e0d\u80fd\u88ab\u4fee\u6539\uff0c\u662f\u4e00\u79cd\u663e\u5f0f\u7684\u5f3a\u5236\u7ed1\u5b9a")),a.a.createElement(c["a"],{code:"var a = 0;\nfunction foo() {\n  console.log(this.a);\n}\nvar obj = {\n  a: 2,\n};\nvar bar = function () {\n  foo.call(obj);\n  //foo\u51fd\u6570\u548cobj\u7ed1\u5b9a\u5230\u4e00\u8d77\u4e86\uff0c\u6240\u4ee5\u65e0\u8bba\u600e\u4e48\u8c03\u7528bar\u51fd\u6570\u3002\u59cb\u7ec8\u4e5f\u4e0d\u4f1a\u6539\u53d8\u4ec0\u4e48\u3002\n};\n//\u5728bar\u51fd\u6570\u5185\u90e8\u624b\u52a8\u8c03\u7528foo.call(obj)\u3002\u56e0\u6b64\uff0c\u65e0\u8bba\u4e4b\u540e\u5982\u4f55\u8c03\u7528\u51fd\u6570bar\uff0c\u5b83\u603b\u4f1a\u624b\u52a8\u5728obj\u4e0a\u8c03\u7528foo\nbar(); //2\nsetTimeout(bar, 100); //2\nbar.call(window); //2",lang:"js"}),a.a.createElement("ul",null,a.a.createElement("li",null,"\u4e00\u4e9b\u5185\u7f6e\u51fd\u6570\u4e2d\u7684 ",a.a.createElement("code",null,"\u786c\u7ed1\u5b9a"),"\uff0c\u4ed6\u4eec\u5b9e\u9645\u4e0a\u5c31\u662f\u901a\u8fc7\u5728\u5185\u90e8\u4f7f\u7528 ",a.a.createElement("code",null,"call/apply")," \u5b9e\u73b0\u4e86\u663e\u793a\u7ed1\u5b9a")),a.a.createElement(r["a"],null,a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",{align:"center"},"\u6570\u7ec4\u65b9\u6cd5"))),a.a.createElement("tbody",null,a.a.createElement("tr",null,a.a.createElement("td",{align:"center"},"map")),a.a.createElement("tr",null,a.a.createElement("td",{align:"center"},"forEach")),a.a.createElement("tr",null,a.a.createElement("td",{align:"center"},"some")),a.a.createElement("tr",null,a.a.createElement("td",{align:"center"},"filter")),a.a.createElement("tr",null,a.a.createElement("td",{align:"center"},"every")))),a.a.createElement(c["a"],{code:'var id = \'window\';\nfunction foo(el) {\n  console.log(el, this.id);\n}\nvar obj = {\n  id: \'fn\',\n};\n[1, 2, 3].forEach(foo); //1 "window" 2 "window" 3 "window"\n[1, 2, 3].forEach(foo, obj); //1 "fn" 2 "fn" 3 "fn"',lang:"js"}),a.a.createElement("ol",{start:6},a.a.createElement("li",null,"new \u7ed1\u5b9a")),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("code",null,"\u6784\u9020\u51fd\u6570"),"\uff1a\u5982\u679c\u51fd\u6570\u6216\u8005\u65b9\u6cd5\u8c03\u7528\u4e4b\u524d\u5e26\u6709\u5173\u952e\u5b57 ",a.a.createElement("code",null,"new"),"\uff0c\u5b83\u5c31\u79f0\u4e4b\u4e3a ",a.a.createElement("code",null,"\u51fd\u6570\u7684\u6784\u9020\u8c03\u7528"),"\uff0c\u5b9e\u9645\u4e0a\u53ea\u662f\u88ab ",a.a.createElement("code",null,"new")," \u8c03\u7528\u7684\u666e\u901a\u51fd\u6570\u800c\u5df2\u3002\u5bf9\u4e8e ",a.a.createElement("code",null,"this")," \u7ed1\u5b9a\u6765\u8bf4\uff0c\u79f0\u4e3a ",a.a.createElement("code",null,"new\u7ed1\u5b9a")),a.a.createElement("li",null,a.a.createElement("code",null,"new")," \u64cd\u4f5c\u65f6\uff0c\u51fd\u6570\u5185\u90e8\u53d1\u751f\u4e86\u4ec0\u4e48\uff1f\u4ece\u539f\u578b\u94fe\u4e0e\u5bf9\u8c61\u7bc7\u77e5\u9053\uff0c\u5b83\u5927\u6982\u7684\u64cd\u4f5c\u662f\u8fd9\u6837\u7684\uff1a\u521b\u5efa\u4e00\u4e2a\u5168\u65b0\u7684\u5bf9\u8c61\uff0c\u8ba9\u8fd9\u4e2a\u65b0\u5bf9\u8c61\u7684\u539f\u578b(Object.getPropertyOf(target))\u6307\u5411\u6784\u9020\u51fd\u6570\u7684\u539f\u578b\u5bf9\u8c61\uff0c\u5c06\u8be5\u6784\u9020\u51fd\u6570\u5185\u90e8\u7684 this \u7ed1\u5b9a\u5230\u65b0\u521b\u5efa\u7684\u5bf9\u8c61\u4e0a\uff0c\u5982\u679c\u51fd\u6570\u6ca1\u6709\u8fd4\u56de\u5176\u4ed6\u5bf9\u8c61\uff0c\u90a3\u4e48 ",a.a.createElement("code",null,"new")," \u8868\u8fbe\u5f0f\u4e2d\u7684\u51fd\u6570\u8c03\u7528\u4f1a\u81ea\u52a8\u8fd4\u56de\u8fd9\u4e2a\u65b0\u5bf9\u8c61\uff0c\u8fd9\u4e2a\u8fd4\u56de\u7684\u65b0\u5bf9\u8c61\u5c31\u662f\u8be5\u6784\u9020\u51fd\u6570\u7684\u5b9e\u4f8b")),a.a.createElement(c["a"],{code:"function test(name, age) {\n  this.name = name;\n  this.age = age;\n}\nlet t1 = new test('Jim', 18);\n// {name:'Jim',age:18}",lang:"js"}),a.a.createElement("ul",null,a.a.createElement("li",null,"\u5982\u679c\u6784\u9020\u51fd\u6570\u4f7f\u7528 ",a.a.createElement("code",null,"return")," \u8bed\u53e5\u4f46\u6ca1\u6709\u6307\u5b9a\u8fd4\u56de\u503c\uff0c\u6216\u8005\u8fd4\u56de\u4e00\u4e2a ",a.a.createElement("code",null,"\u539f\u59cb\u503c"),"\uff0c\u90a3\u4e48\u8fd9\u65f6\u5c06\u5ffd\u7565\u8fd4\u56de\u503c\uff0c\u540c\u65f6\u4f7f\u7528\u8fd9\u4e2a\u65b0\u5bf9\u8c61\u4f5c\u4e3a\u8c03\u8bd5\u7ed3\u679c")),a.a.createElement(c["a"],{code:"function test(name, age) {\n  this.name = name;\n  this.age = age;\n  return;\n}\nlet t1 = new test('Jim', 18);\n// {name:'Jim',age:18}",lang:"js"}),a.a.createElement(c["a"],{code:"var person = {\n  fn: function () {\n    return this;\n  },\n};\nvar obj = new person.fn();\nconsole.log(obj, obj === person); // {} false\nconsole.log(obj.constructor === person.fn); // true",lang:"js"}),a.a.createElement("ul",null,a.a.createElement("li",null,"\u5982\u679c\u6784\u9020\u51fd\u6570\u663e\u5f0f\u5730\u8fd4\u56de\u4e00\u4e2a\u5bf9\u8c61\u7c7b\u578b\u7684\u503c\uff0c\u90a3\u4e48\u5219\u5c06\u8fd9\u4e2a\u8fd4\u56de\u5730\u5bf9\u8c61\u4f5c\u4e3a\u5b9e\u4f8b\u5bf9\u8c61")),a.a.createElement(c["a"],{code:"function test(name, age) {\n  this.name = name;\n  this.age = age;\n  return {\n    name: name,\n  };\n}\nlet t1 = new test('Jim', 18);\n// {name: \"Jim\"}",lang:"js"}),a.a.createElement("ol",{start:7},a.a.createElement("li",null,"\u4f18\u5148\u7ea7")),a.a.createElement("ul",null,a.a.createElement("li",null,"\u76ee\u524d\uff0c\u5173\u4e8e ",a.a.createElement("code",null,"this")," \u7684\u7ed1\u5b9a\u5177\u6709\u56db\u6761\u89c4\u5219\uff0c\u5f53\u67d0\u4e2a\u8c03\u7528\u4f4d\u7f6e\u5e94\u7528\u591a\u6761\u89c4\u5219\u65f6\uff0c\u90a3\u4e48\u5c31\u9700\u8981\u6839\u636e\u89c4\u5219\u7684\u4f18\u5148\u7ea7\u6765\u8fdb\u884c\u7ed1\u5b9a ",a.a.createElement("code",null,"this")," \u4e86")),a.a.createElement("p",null,a.a.createElement("img",{src:t("sVww"),alt:"\u5224\u65adthis"})),a.a.createElement("hr",null),a.a.createElement("h2",{id:"\u624b\u5199-call"},a.a.createElement(o["AnchorLink"],{to:"#\u624b\u5199-call","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"\u624b\u5199 call"),a.a.createElement("hr",null),a.a.createElement("ol",null,a.a.createElement("li",null,"\u8c03\u7528 call \u65b9\u6cd5\u505a\u4e86\u4ec0\u4e48")),a.a.createElement("ul",null,a.a.createElement("li",null,"call \u65b9\u6cd5\u5728\u4f7f\u7528\u4e00\u4e2a\u6307\u5b9a\u7684 this \u503c\u548c\u82e5\u5e72\u4e2a\u6307\u5b9a\u7684\u53c2\u6570\u503c\u7684\u524d\u63d0\u4e0b\u8c03\u7528\u67d0\u4e2a\u51fd\u6570\u6216\u65b9\u6cd5\u3002\u8bf4\u7b80\u5355\u70b9\uff0c\u5c31\u662f\u4e24\u4e2a\u65b9\u9762\uff0c\u4e00\u662f\u6539\u53d8\u4e86\u51fd\u6570\u5185\u90e8 this \u7684\u6307\u5411\uff0c\u4e8c\u662f\u8be5\u51fd\u6570\u4f7f\u7528\u6307\u5b9a\u7684\u53c2\u6570\u6267\u884c")),a.a.createElement("ol",{start:2},a.a.createElement("li",null,"\u6539\u53d8 this \u7684\u6307\u5411\u6982\u5ff5\u5206\u6790")),a.a.createElement("ul",null,a.a.createElement("li",null,"\u5f53\u6211\u4eec\u4f7f\u7528\u4e00\u4e2a\u5bf9\u8c61\u53bb\u8c03\u7528\u5bf9\u8c61\u5185\u7684\u67d0\u4e2a\u65b9\u6cd5\u65f6\uff0c\u8fd9\u4e2a\u65b9\u6cd5\u5185\u90e8\u7684 this \u4f1a\u6307\u5411\u8be5\u5bf9\u8c61")),a.a.createElement(c["a"],{code:"const obj = {\n  name: 'Bob',\n  getName: function () {\n    console.log(this.name);\n  },\n};\n\nobj.getName(); \n// Bob",lang:"js"}),a.a.createElement("ul",null,a.a.createElement("li",null,"\u5728\u4e0a\u8ff0\u4ee3\u7801\u4e2d\uff0cthis \u7684\u6307\u5411\u5c31\u6307\u5411\u4e86 obj\u3002\u4f46\u662f\uff0c\u95ee\u9898\u5728\u4e8e\uff0c\u6b64\u79cd\u65b9\u6cd5\u7ed9\u5bf9\u8c61\u672c\u8eab \u6dfb\u52a0 \u4e0a\u4e86\u4e00\u4e2a\u5c5e\u6027\uff0c\u4e5f\u5c31\u662f getName\uff0c\u6240\u4ee5\u6211\u4eec\u9700\u8981\u518d\u8c03\u7528\u5b8c\u4ee5\u540e\uff0c\u5220\u9664\u8be5\u5c5e\u6027")),a.a.createElement("ol",{start:3},a.a.createElement("li",null,"\u6a21\u62df call \u7684\u5b9e\u73b0\u6b65\u9aa4")),a.a.createElement("ul",null,a.a.createElement("li",null,"\u2460 \u5c06\u51fd\u6570\u8bbe\u4e3a\u8c03\u7528\u5bf9\u8c61\u7684\u5c5e\u6027\uff1b\u2461 \u4f7f\u7528\u8be5\u5bf9\u8c61\u8c03\u7528\u8be5\u65b9\u6cd5\uff1b\u2462 \u5220\u9664\u8be5\u5c5e\u6027")),a.a.createElement(c["a"],{code:"function getName() {\n  console.log(this.name);\n};\n\nlet obj = {\n  name: 'Bob',\n};\n\nobj.getName = getName;\nobj.getName(); // Bob\ndelete obj.getName;",lang:"js"}),a.a.createElement("ul",null,a.a.createElement("li",null,"\u6839\u636e\u4ee5\u4e0a\u7ed3\u8bba\u521d\u6b65\u6539\u9020 myCall")),a.a.createElement(c["a"],{code:"let obj = {\n  name: 'Bob',\n};\n\nfunction getName() {\n  console.log(this.name);\n};\n\nFunction.prototype.myCall = function (context) {\n  context.caller = this;\n  // \u51fd\u6570\u662f\u4e00\u79cd\u7279\u6b8a\u7684\u5bf9\u8c61\uff0c\u56e0\u6b64\u8fd9\u91cc\u53ef\u4ee5\u7528this\u83b7\u53d6\u8c03\u7528call\u7684\u51fd\u6570\n  context.caller();\n  delete context.caller;\n};\n\ngetName.myCall(obj);\n// \u8f93\u51fa\u4e86\u9884\u671f\u7684\u7ed3\u679c 'Bob'",lang:"js"}),a.a.createElement("ol",{start:4},a.a.createElement("li",null,"\u7b2c\u4e8c\u6b65\uff0c\u8be5\u51fd\u6570\u9700\u8981\u4f7f\u7528\u6307\u5b9a\u7684\u53c2\u6570\u5e76\u6267\u884c")),a.a.createElement(c["a"],{code:"// \u6539\u9020\u4e00\u4e0bmyCall\nFunction.prototype.myCall = function (context) {\n  var arg = [...new Set(arguments)].slice(1);\n  // \u2460 [].slice.call(arguments,1)\n  // \u2461 Array.prototype.slice.call(arguments,1)\n  // \u2462 Array.from(arg).slice(1)\n  context.caller = this;\n  context.caller(...arg);\n  delete context.caller;\n};",lang:"js"}),a.a.createElement(c["a"],{code:"var obj = {\n  name: 'Bob',\n};\n\nfunction getName(age, sex) {\n  console.log(this.name);\n  console.log(age);\n  console.log(sex);\n};\n\ngetName.myCall(obj, '18', 'boy');\n// \u8fbe\u5230\u9884\u671f\u6548\u679c \"Bob\" '18' 'boy'",lang:"js"}),a.a.createElement("ol",{start:5},a.a.createElement("li",null,"\u5904\u7406\u53c2\u6570\u4e0e\u8fd4\u56de\u503c")),a.a.createElement("ul",null,a.a.createElement("li",null,"\u6211\u4eec\u77e5\u9053\uff0ccall \u7684\u53c2\u6570\u53ef\u4ee5\u4f20\u5165 null\uff0c\u4f20\u5165 null \u65f6\uff0cthis \u89c6\u4e3a\u6307\u5411 window")),a.a.createElement(c["a"],{code:"Function.prototype.myCall=function(context,...arg){\n  var context=context || window;\n  context.caller=this;\n  context.caller(...arg);\n  delete context.caller\n}",lang:"js"}),a.a.createElement("ul",null,a.a.createElement("li",null,"this \u6307\u5411\u7684\u95ee\u9898\u89e3\u51b3\u4e86\uff0c\u8fd8\u6709\u4e00\u4e2a\u95ee\u9898\uff0c\u51fd\u6570\u662f\u5177\u6709\u8fd4\u56de\u503c\u7684")),a.a.createElement(c["a"],{code:"Function.prototype.myCall=function(context,...arg){\n  var context=context || window;\n  context.caller=this;\n  var res=context.caller(...arg);\n  delete context.caller;\n  return res\n}",lang:"js"}),a.a.createElement(c["a"],{code:"var name = 'window';\nvar obj = {\n  name: 'Bob',\n};\n\nfunction fn(age, sex) {\n  console.log(this.name);\n  console.log(age);\n  console.log(sex);\n  return [\n    'i m ' + this.name + ',' + 'i ' + age + ',i was ' + sex,\n    {\n      name: this.name,\n      age,\n      sex,\n    },\n  ];\n}\nconsole.log(fn.myCall(obj, '18', 'boy'));\n// Local\n// 18\n// boy\n// 0: \"i m Local,i 18,i was boy\"\n// 1: {name: \"Local\", age: \"18\", sex: \"boy\"}\nconsole.log(fn.myCall(null, '20', 'gril'));\n// window\n// 20\n// gril\n// 0: \"i m window,i 20,i was gril\"\n// 1: {name: \"window\", age: \"20\", sex: \"gril\"}\n\n// \u8f93\u51fa\u7b26\u5408\u9884\u671f",lang:"js"}),a.a.createElement("ol",{start:6},a.a.createElement("li",null,"\u6700\u540e\uff0c\u6211\u4eec\u518d\u8fdb\u884c\u4e00\u4e9b\u5176\u4ed6\u65b9\u9762\u7684\u4f18\u5316")),a.a.createElement(c["a"],{code:'Function.prototype.myCall = function (context, ...args) {\n  if (context === null || context === undefined) {\n    context = window;\n    // 1. \u6307\u5b9a\u4e3a null \u548c undefined \u7684 this \u503c\u4f1a\u81ea\u52a8\u6307\u5411\u5168\u5c40\u5bf9\u8c61(\u6d4f\u89c8\u5668\u4e2d\u4e3awindow)\n  } else {\n    context = Object(context);\n    /** \n     * 2.1 \u4e3a\u539f\u59cb\u503c\uff08\u6570\u5b57\uff0c\u5b57\u7b26\u4e32\uff0c\u5e03\u5c14\u503c\uff09\u521b\u5efa\u4e34\u65f6\u5bf9\u8c61\n     * 2.2 \u5bf9\u8c61\u5f62\u5f0f\u7684\u7ecf\u8fc7\u5904\u7406\u4ecd\u4e3a\u539f\u5bf9\u8c61\n    */\n  }\n  let caller = Symbol("call:caller");\n  // \u7528\u4e8e\u4e34\u65f6\u50a8\u5b58\u51fd\u6570\n  context[caller] = this;\n  // \u51fd\u6570\u662f\u4e00\u79cd\u7279\u6b8a\u7684\u5bf9\u8c61\uff0c\u56e0\u6b64\u8fd9\u91cc\u53ef\u4ee5\u7528this\u83b7\u53d6\u8c03\u7528call\u7684\u51fd\u6570\uff0c\u5c06\u51fd\u6570\u7684this\u6307\u5411\u9690\u5f0f\u7ed1\u5b9a\u5230context\u4e0a\n  let res = context[caller](...args);\n  // \u901a\u8fc7\u9690\u5f0f\u7ed1\u5b9a\u6267\u884c\u51fd\u6570\u5e76\u4f20\u9012\u53c2\u6570\n  delete context[caller];\n  // \u5220\u9664\u8c03\u7528\u5bf9\u8c61\u7684\u5c5e\u6027\n  return res;\n  // \u8fd4\u56de\u51fd\u6570\u8fd0\u884c\u7ed3\u679c\n};',lang:"js"}),a.a.createElement("hr",null),a.a.createElement("h2",{id:"\u624b\u5199-apply"},a.a.createElement(o["AnchorLink"],{to:"#\u624b\u5199-apply","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"\u624b\u5199 apply"),a.a.createElement("hr",null),a.a.createElement("ol",null,a.a.createElement("li",null,"\u6a21\u62df apply \u7684\u5b9e\u73b0")),a.a.createElement("ul",null,a.a.createElement("li",null,"apply \u4e0e call \u7c7b\u4f3c\uff0c\u53ea\u4e0d\u8fc7 apply \u8981\u6c42\u7684\u53c2\u6570\u5fc5\u987b\u662f\u4e00\u4e2a\u6570\u7ec4\u3002\u660e\u767d\u4e86 call \u7684\u539f\u7406\uff0c\u6211\u4eec\u53ea\u9700\u8981\u5bf9 aplly \u7684\u53c2\u6570\u505a\u4e00\u4e9b\u5224\u65ad\u5373\u53ef\uff0c\u5927\u81f4\u4e0a\u662f\u4e00\u6837\u7684")),a.a.createElement("ol",{start:2},a.a.createElement("li",null,"\u5148\u6765\u4e00\u4e2a\u7b80\u6613\u7248")),a.a.createElement(c["a"],{code:"Function.prototype.myApply = function (context, arg) {\n  if (context === null || context === undefined) {\n    context = window;\n    // \u6307\u5b9a\u4e3a null \u548c undefined \u7684 this \u503c\u4f1a\u81ea\u52a8\u6307\u5411\u5168\u5c40\u5bf9\u8c61(\u6d4f\u89c8\u5668\u4e2d\u4e3awindow)\n  } else {\n    context = Object(context);\n    // this\u53c2\u6570\u53ef\u4ee5\u4f20\u57fa\u672c\u7c7b\u578b\u6570\u636e,\u539f\u751f\u7684apply\u4f1a\u81ea\u52a8\u7528Object()\u8f6c\u6362,call\u4e5f\u4f1a\u5982\u6b64\n    // \u503c\u4e3a\u539f\u59cb\u503c\uff08\u6570\u5b57\uff0c\u5b57\u7b26\u4e32\uff0c\u5e03\u5c14\u503c\uff09\u7684 this \u4f1a\u6307\u5411\u8be5\u539f\u59cb\u503c\u7684\u5b9e\u4f8b\u5bf9\u8c61\n  }\n  const fnSymbol = Symbol('\u8fd9\u662f\u4e00\u4e2a\u4e34\u65f6\u5c5e\u6027');\n  // \u7528\u4e8e\u4e34\u65f6\u50a8\u5b58\u51fd\u6570\n  context[fnSymbol] = this;\n  var res;\n  if (!arg) {\n    res = context[fnSymbol]()\n  } else {\n    if (!Array.isArray(arg)) {\n      throw new TypeError('myApply\u7b2c\u4e8c\u4e2a\u53c2\u6570\u9700\u662f\u6570\u7ec4')\n    } else {\n      res = context[fnSymbol](...arg)\n    }\n  }\n  delete context[fnSymbol];\n  return res\n}",lang:"js"}),a.a.createElement("ol",{start:3},a.a.createElement("li",null,"\u7ec8\u6781\u4f18\u5316\u7248\u672c")),a.a.createElement("ul",null,a.a.createElement("li",null,"\u5148\u8d34\u4e0a\u4e00\u4e2a\u300cJavaScript\u6743\u5a01\u6307\u5357\u300d\u5224\u65ad\u662f\u5426\u4e3a\u7c7b\u6570\u7ec4\u5bf9\u8c61")),a.a.createElement(c["a"],{code:"// JavaScript\u6743\u5a01\u6307\u5357\u5224\u65ad\u662f\u5426\u4e3a\u7c7b\u6570\u7ec4\u5bf9\u8c61\nfunction isArrayLike(o) {\n  if (\n    o && // o\u4e0d\u662fnull\u3001undefined\u7b49\n    typeof o === 'object' && // o\u662f\u5bf9\u8c61\n    isFinite(o.length) && // o.length\u662f\u6709\u9650\u6570\u503c\n    o.length >= 0 && // o.length\u4e3a\u975e\u8d1f\u503c\n    o.length === Math.floor(o.length) && // o.length\u662f\u6574\u6570\n    o.length < 4294967296\n  ) {\n    return true;\n  }\n    // o.length < 2^32\n  return false;\n}",lang:"js"}),a.a.createElement("ul",null,a.a.createElement("li",null,"\u7ec8\u6781\u7248\u672c")),a.a.createElement(c["a"],{code:"Function.prototype.myApply = function (context, args) {\n  if (context === null || context === undefined) {\n    content = window;\n  } else {\n    context = Object(context);\n  }\n  function isArrayLike(obj) {\n    if (\n      obj &&\n      typeof obj === 'object' &&\n      isFinite(o.length) &&\n      obj.length >= 0 &&\n      obj.length === Math.floor(obj.length) &&\n      obj.length < 4294967296\n    ) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  let caller = Symbol(\"apply:caller\");\n  context[caller] = this;\n  let res;\n\n  if (!args) {\n    res = context[caller]();\n    // \u672a\u4f20\u9012\u6570\u7ec4\uff0c\u76f4\u63a5\u6267\u884c\u51fd\u6570\n  } else {\n    if (Array.isArray(args) || isArrayLike(args)) {\n      res = context[caller](...args)\n      // \u5c55\u5f00\u53c2\u6570\u6570\u7ec4\u5e76\u6267\u884c\u51fd\u6570\n      // res=context[fnSymbol](...Array.from(arg));\n    } else {\n      throw new TypeError('myApply\u7b2c\u4e8c\u4e2a\u53c2\u6570\u987b\u662f\u4e00\u4e2a\u6570\u7ec4');\n      // \u53c2\u6570\u4e0d\u662f\u4e00\u4e2a\u4f2a\u6570\u7ec4\u6216\u6570\u7ec4\uff0c\u62a5\u9519\n    }\n  }\n  delete context[caller];\n  return res\n};",lang:"js"}),a.a.createElement(c["a"],{code:'fn.myApply(obj, [\'20\', \'gril\']);\n// Local\n// 20\n// gril\n// 0: "i m window,i 20,i was gril"\n// 1: {name: "Local", age: "20", sex: "gril"}\n// \u7ed3\u679c\u7b26\u5408\u9884\u671f',lang:"js"}),a.a.createElement("hr",null),a.a.createElement("h2",{id:"\u624b\u5199-bind"},a.a.createElement(o["AnchorLink"],{to:"#\u624b\u5199-bind","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"\u624b\u5199 bind"),a.a.createElement("hr",null),a.a.createElement("ol",null,a.a.createElement("li",null,"bind \u7684\u7279\u70b9")),a.a.createElement("ul",null,a.a.createElement("li",null,"bind \u65b9\u6cd5\u4f1a\u521b\u5efa\u4e00\u4e2a\u65b0\u51fd\u6570\u3002\u5f53\u8fd9\u4e2a\u65b0\u51fd\u6570\u88ab\u8c03\u7528\u65f6\uff0cbind \u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u5c06\u4f5c\u4e3a\u5b83\u8fd0\u884c\u65f6\u7684 this\uff0c\u4e4b\u540e\u7684\u4e00\u7cfb\u5217\u53c2\u6570\u5c06\u4f1a\u4f20\u9012\u7684\u5b9e\u53c2\u524d\u4f20\u5165\u4f5c\u4e3a\u5b83\u7684\u53c2\u6570"),a.a.createElement("li",null,"\u4e00\u4e2a\u7ed1\u5b9a\u51fd\u6570\u4e5f\u80fd\u4f7f\u7528 new \u64cd\u4f5c\u7b26\u521b\u5efa\u5bf9\u8c61\uff1a\u8fd9\u79cd\u884c\u4e3a\u5c31\u50cf\u628a\u539f\u51fd\u6570\u5f53\u6210\u6784\u9020\u5668\u3002\u63d0\u4f9b\u7684 this \u503c\u5ffd\u7565\uff0c\u540c\u65f6\u8c03\u7528\u65f6\u7684\u53c2\u6570\u88ab\u63d0\u4f9b\u7ed9\u6a21\u62df\u51fd\u6570"),a.a.createElement("li",null,"\u5f53 bind \u8fd4\u56de\u7684\u51fd\u6570\u4f5c\u4e3a\u6784\u9020\u51fd\u6570\u65f6\uff0cbind \u6307\u5b9a\u7684 this \u5c06\u5931\u6548\uff0c\u4f46\u4f20\u5165\u7684\u53c2\u6570\u4f9d\u7136\u751f\u6548")),a.a.createElement("ol",{start:2},a.a.createElement("li",null,"\u5b9e\u4f8b\u89e3\u6790 bind")),a.a.createElement(c["a"],{code:"var name = 'window';\nvar obj = {\n  name: 'Local',\n};\nfunction fn(age, sex) {\n  console.log(this.name);\n  console.log(age);\n  console.log(sex);\n  return [\n    'i m ' + this.name + ',' + 'i ' + age + ',i was ' + sex,\n    {\n      name: this.name,\n      age,\n      sex,\n    },\n  ];\n}\nvar bindA = fn.bind(obj, 18);\nbindA('boy');\n// Local\n// 18\n// boy\n// [\"i m Local,i 18,i was boy\", {\u2026}]",lang:"js"}),a.a.createElement("ul",null,a.a.createElement("li",null,"\u4ece\u7ed3\u679c\u6211\u4eec\u53d1\u73b0\uff0c\u4f7f\u7528 bind \u7ed1\u5b9a\u65f6\u53ef\u4ee5\u4f20\u5165\u4e00\u6b21\u53c2\u6570\uff0c\u8c03\u7528\u4fdd\u5b58\u7684\u6e90\u51fd\u6570\u65f6\uff0c\u8fd8\u53ef\u4ee5\u4f20\u5165\u5176\u4ed6\u53c2\u6570\uff0c\u5e76\u4e14\u7ed3\u679c\u4e0e\u76f4\u63a5\u7ed1\u5b9a\u65f6\u4f20\u5165\u4e24\u6b21\u53c2\u6570\u7684\u7ed3\u679c\u4e00\u81f4")),a.a.createElement("ol",{start:3},a.a.createElement("li",null,"\u91cd\u6784 bind \u7684\u601d\u8def")),a.a.createElement("ul",null,a.a.createElement("li",null,"\u62f7\u8d1d\u6e90\u51fd\u6570\uff0c\u901a\u8fc7\u53d8\u91cf\u50a8\u5b58\u6e90\u51fd\u6570\uff0c\u4f7f\u7528 Object.create \u590d\u5236\u6e90\u51fd\u6570\u7684 prototype \u7ed9\u62f7\u8d1d\u7684\u51fd\u6570\uff1b\u5c06\u62f7\u8d1d\u7684\u51fd\u6570\u8fd4\u56de\uff1b\u8c03\u7528\u62f7\u8d1d\u7684\u51fd\u6570\u3002\u4e00\uff0cnew \u8c03\u7528\u5224\u65ad\uff0c\u901a\u8fc7 instanceof \u5224\u65ad\u51fd\u6570\u662f\u5426\u901a\u8fc7 new \u8c03\u7528\uff0c\u6765\u51b3\u5b9a\u7ed1\u5b9a\u7684 context\uff0c\u4e5f\u5c31\u662f \u4e0a\u4e0b\u6587\u5bf9\u8c61\uff1b\u4e8c\uff0c\u7ed1\u5b9a this\uff0c\u5e76\u4f20\u9012\u53c2\u6570\uff1b\u4e09\uff0c\u8fd4\u56de\u6e90\u51fd\u6570\u7684\u6267\u884c\u7ed3\u679c")),a.a.createElement("ol",{start:4},a.a.createElement("li",null,"\u5b9e\u73b0\u7ed1\u5b9a this")),a.a.createElement(c["a"],{code:"Function.prototype.myBind = function (context) {\n  var self = this;\n  return function () {\n    return self.apply(context);\n  };\n};",lang:"js"}),a.a.createElement(c["a"],{code:"var name = 'window';\nvar obj = {\n  name: 'Local',\n};\nfunction fn(age, sex) {\n  console.log(this.name);\n  return {\n    name: this.name,\n  };\n}\nconst fnBInd = fn.myBind(obj);\nfnBInd();\n// Local\n// {name: \"Local\"}\n// \u8fbe\u5230\u9884\u671f\u6548\u679c",lang:"js"}),a.a.createElement("ol",{start:5},a.a.createElement("li",null,"\u5728\u7ed1\u5b9a\u7684\u540c\u65f6\uff0c\u5bf9 myBind \u8c03\u7528\u65f6\u4f20\u5165\u7684\u53c2\u6570\u4e0e fnBind \u8c03\u7528\u65f6\u4f20\u5165\u7684\u53c2\u6570\u8fdb\u884c\u5904\u7406")),a.a.createElement(c["a"],{code:"Function.prototype.myBind = function (context) {\n  let self = this;\n  let args = [].slice.call(arguments, 1);\n  // \u5c06\u7ed1\u5b9athis\u65f6\u7684\u53c2\u6570\u4fdd\u5b58\u8d77\u6765\n  return function () {\n    var FnBindArgs = Array.prototype.slice.call(arguments);\n    // \u8fd9\u662f\u8c03\u7528\u7ed1\u5b9a\u597dthis\u7684\u6e90\u51fd\u6570\u65f6\u4f20\u5165\u7684\u53c2\u6570\n    return self.apply(context, args.concat(FnBindArgs));\n  };\n};",lang:"js"}),a.a.createElement(c["a"],{code:"var name = 'window';\nvar obj = {\n  name: 'Local',\n};\nfunction fn(fname, age, sex) {\n  console.log(this.name);\n  return {\n    name: this.name,\n    fname,\n    age,\n    sex,\n  };\n}\nconst fnBind = fn.myBind(obj, 'bob', '18');\nconsole.log(fnBind('boy'));\n// Local\n// {name: \"Local\", fname: \"bob\", age: \"18\", sex: \"boy\"}\n// \u8fbe\u5230\u9884\u671f\u6548\u679c",lang:"js"}),a.a.createElement("ol",{start:6},a.a.createElement("li",null,"\u8c03\u7528\u5224\u65ad")),a.a.createElement("ul",null,a.a.createElement("li",null,"\u5f53 bind \u8fd4\u56de\u7684\u51fd\u6570\u4f5c\u4e3a\u6784\u9020\u51fd\u6570\u65f6\uff0cbind \u6307\u5b9a\u7684 this \u5c06\u5931\u6548\uff0c\u4f46\u4f20\u5165\u7684\u53c2\u6570\u4f9d\u7136\u751f\u6548")),a.a.createElement(c["a"],{code:"var name = 'window';\nvar obj = {\n  name: 'Local',\n};\nfunction fn(fname, age, sex) {\n  this.jname = 'obj';\n  console.log(this.name);\n  console.log(age, sex);\n}\nvar fnBind = fn.bind(obj, 'Jim', 18);\nfn.prototype.Person = 'father';\nconsole.log(new fnBind('Boy'));\n// undefined\n// 18 \"Boy\"\n// fn\xa0{jname: \"world\"}",lang:"js"}),a.a.createElement("ul",null,a.a.createElement("li",null,"\u53ef\u4ee5\u770b\u5230\u6b64\u65f6\u7684 this \u65e2\u4e0d\u6307\u5411 window\uff0c\u53c8\u4e0d\u6307\u5411 bind \u7ed1\u5b9a\u7684 obj\uff0c\u800c\u662f\u6307\u5411 new \u6784\u9020\u8c03\u7528\u51fa\u6765\u7684\u90a3\u4e2a\u5b9e\u4f8b\u5bf9\u8c61")),a.a.createElement(c["a"],{code:"Function.prototype.myBind = function (contextObj) {\n  if (typeof this !== \"function\") {\n    throw new Error('Function.prototype.bind - what is trying to be bound is not callable');\n  }\n\n  if(contextObj === null || contextObj === undefined) {\n    contextObj = window;\n  } else {\n    contextObj = Object(contextObj)\n  }\n\n  let self = this;\n  let args = [].slice.call(arguments, 1);\n\n  let fnBind = function () {\n    let fnBindArgs = [].slice.call(arguments);\n\n    let isNew = new.target;\n    // \u5224\u65ad fnbind\u662f\u5426\u88ab new \u6784\u9020\u8c03\u7528\n    let context = isNew ? this : contextObj;\n    // \u5982\u679c\u662f new \u6784\u9020\u8c03\u7528\u5c31\u7ed1\u5b9a\u5230this\u4e0a(\u4e5f\u5c31\u662f\u5b9e\u4f8b\u5bf9\u8c61),\u5426\u5219\u5c31\u7ed1\u5b9a\u5230\u4f20\u5165\u7684contextObj\n    // \u5f53\u4f5c\u4e3a\u6784\u9020\u51fd\u6570\u65f6\uff0cthis \u6307\u5411\u5b9e\u4f8b\uff0cself \u6307\u5411\u7ed1\u5b9a\u51fd\u6570\n    // \u5f53\u4f5c\u4e3a\u666e\u901a\u51fd\u6570\u65f6\uff0cthis \u6307\u5411 window\uff0cself \u6307\u5411\u7ed1\u5b9a\u51fd\u6570\n    return self.apply(context, args.concat(fnBindArgs))\n  }\n\n  if (self.prototype) {\n    // \u590d\u5236\u6e90\u51fd\u6570\u7684prototype\u7ed9fnBind,\u4e00\u4e9b\u60c5\u51b5\u4e0b\u51fd\u6570\u6ca1\u6709prototype,\u6bd4\u5982\u7bad\u5934\u51fd\u6570\n    fnBind.prototype = Object.create(self.prototype);\n  }\n\n  return fnBind\n}",lang:"js"}),a.a.createElement("ul",null,a.a.createElement("li",null,"\u7ed3\u679c\u4e0e\u9884\u671f\u4e00\u81f4")),a.a.createElement(c["a"],{code:"var name = 'window';\nvar obj = {\n  name: 'Local',\n};\nfunction fn(fname, age, sex) {\n  this.jname = 'obj';\n  console.log(this.name);\n  console.log(age, sex);\n}\n\nvar fnBind = fn.myBind(obj, 'Jim', 18);\nfnBind('Boy');\n// Local\n// 18 \"Boy\"\n// undefined\n\nnew fnBind('Boy');\n// undefined\n// 18 \"Boy\"\n// fnBind\xa0{jname: \"obj\"}\n\nvar fnBind1 = fn.bind(obj, 'Jim', 18);\nfnBind1('Boy');\n// Local\n// 18 \"Boy\"\n// undefined\n\nnew fnBind1('Boy');\n// undefined\n// 18 \"Boy\"\n// fnBind\xa0{jname: \"obj\"}",lang:"js"})))})));e["default"]=n=>{var e=a.a.useContext(o["context"]),t=e.demos;return a.a.useEffect((()=>{var e;null!==n&&void 0!==n&&null!==(e=n.location)&&void 0!==e&&e.hash&&o["AnchorLink"].scrollToAnchor(decodeURIComponent(n.location.hash.slice(1)))}),[]),a.a.createElement(i,{demos:t})}},sVww:function(n,e,t){n.exports=t.p+"static/selthis.870f2ac5.png"}}]);