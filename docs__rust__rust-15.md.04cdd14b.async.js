(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[175],{"+ojU":function(e,l,t){"use strict";t.r(l);var n=t("q1tI"),a=t.n(n),r=t("dEAq"),c=(t("0H/f"),t("N0lm"),t("DgDr"),t("cGlH"),t("ekZX"),t("Bjia")),u=t("tVxl"),m=(t("1pSt"),a.a.memo((e=>{e.demos;return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"markdown"},a.a.createElement("h2",{id:"\u9519\u8bef\u5904\u7406"},a.a.createElement(r["AnchorLink"],{to:"#\u9519\u8bef\u5904\u7406","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"\u9519\u8bef\u5904\u7406"),a.a.createElement("hr",null),a.a.createElement("ol",null,a.a.createElement("li",null,"\u9519\u8bef\u5904\u7406\u6982\u8ff0")),a.a.createElement("ul",null,a.a.createElement("li",null,"rust \u5177\u6709\u6781\u9ad8\u7684\u53ef\u9760\u6027\uff0c\u800c\u5b83\u8fd9\u79cd\u53ef\u9760\u6027\u4e5f\u5ef6\u4f38\u5230\u4e86\u9519\u8bef\u5904\u7406\u7684\u9886\u57df\u3002\u5728\u5927\u90e8\u5206\u60c5\u51b5\u4e0b\uff0crust \u4f1a\u8feb\u4f7f\u4f60\u610f\u8bc6\u5230\u53ef\u80fd\u4f1a\u51fa\u73b0\u9519\u8bef\u7684\u5730\u65b9\uff0c\u7136\u540e\u5728\u7f16\u8bd1\u9636\u6bb5\u5c31\u786e\u4fdd\u4ed6\u4eec\u80fd\u591f\u5f97\u5230\u59a5\u5584\u7684\u5904\u7406"),a.a.createElement("li",null,"\u5728 rust \u4e2d\uff0c\u9519\u8bef\u5206\u4e3a\u4e24\u5927\u7c7b\uff0c\u4e00\u7c7b\u662f\u53ef\u6062\u590d\u7684\u9519\u8bef\uff0c\u4f8b\u5982\u6587\u4ef6\u672a\u627e\u5230\uff0c\u8fd9\u79cd\u60c5\u51b5\u4e0b\u5c31\u53ef\u80fd\u628a\u8fd9\u4e2a\u9519\u8bef\u4fe1\u606f\u8fd4\u56de\u7ed9\u7528\u6237\u5e76\u8ba9\u7528\u6237\u518d\u6b21\u5c1d\u8bd5\u5bfb\u627e\u8fd9\u4e2a\u6587\u4ef6\uff1b\u53e6\u4e00\u7c7b\u5c31\u662f\u4e0d\u53ef\u6062\u590d\u7684\u9519\u8bef(bug)\uff0c\u4f8b\u5982\u8bbf\u95ee\u7684\u7d22\u5f15\u8d85\u51fa\u8303\u56f4\uff0c\u8fd9\u610f\u5473\u7740\u53ef\u80fd\u8bbf\u95ee\u5230\u65e0\u6548\u7684\u5185\u5b58\u5730\u5740\uff0c\u7a0b\u5e8f\u8fd9\u65f6\u5019\u8fd0\u884c\u5c31\u662f\u4e0d\u53ef\u9760\u7684\u3002\u5176\u5b83\u7684\u8bed\u8a00\u4e2d\u5e76\u6ca1\u6709\u523b\u610f\u7684\u533a\u5206\u8fd9\u4e24\u79cd\u9519\u8bef\uff0c\u4ed6\u4eec\u901a\u5e38\u662f\u4f7f\u7528\u5f02\u5e38\u8fd9\u79cd\u673a\u5236\u6765\u7edf\u4e00\u5904\u7406\u4ed6\u4eec\uff0c\u4f46 rust \u5185\u5374\u6ca1\u6709\u7c7b\u4f3c\u5f02\u5e38\u7684\u673a\u5236")),a.a.createElement(u["a"],null,a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",null,"\u7c7b\u522b"),a.a.createElement("th",null,"\u63d0\u4f9b\u65b9\u5f0f"),a.a.createElement("th",null,"\u63cf\u8ff0"))),a.a.createElement("tbody",null,a.a.createElement("tr",null,a.a.createElement("td",null,"\u53ef\u6062\u590d\u9519\u8bef"),a.a.createElement("td",null,"Result<T,E>"),a.a.createElement("td",null)),a.a.createElement("tr",null,a.a.createElement("td",null,"\u4e0d\u53ef\u6062\u590d\u9519\u8bef"),a.a.createElement("td",null,"panic!\u5b8f"),a.a.createElement("td",null,"\u6267\u884c\u5b8f\u7684\u65f6\u5019\u7a0b\u5e8f\u4f1a\u7acb\u5373\u7ec8\u6b62\u8fd0\u884c\uff5c")))),a.a.createElement("ol",{start:2},a.a.createElement("li",null,"\u4e0d\u53ef\u6062\u590d\u7684\u9519\u8bef")),a.a.createElement("ul",null,a.a.createElement("li",null,"\u5f53 panic! \u5b8f\u6267\u884c\u65f6\uff0c\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u5b83\u4f1a\u6253\u5370\u51fa\u4e00\u4e2a\u9519\u8bef\u4fe1\u606f\uff0c\u7136\u540e\u5b83\u4f1a\u5c55\u5f00(unwind)\u3001\u6e05\u7406\u8c03\u7528\u6808(Stack)\uff0c\u6700\u540e\u5b83\u4f1a\u9000\u51fa\u7a0b\u5e8f"),a.a.createElement("li",null,"\u4e3a\u4e86\u5e94\u5bf9 panic\uff0c\u9ed8\u8ba4\u53ef\u4ee5\u5c55\u5f00\u8c03\u7528\u6808\uff0c\u4e5f\u53ef\u4ee5\u5c06\u8fd9\u4e2a\u52a8\u4f5c\u8bbe\u7f6e\u6210\u4e2d\u6b62(abort)\u8c03\u7528\u6808\u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u5f53 panic \u53d1\u751f\u65f6\uff0c\u7a0b\u5e8f\u4f1a\u5c55\u5f00\u8c03\u7528\u6808(\u5de5\u4f5c\u91cf\u5927)\uff0c\u8fd9\u610f\u5473\u7740\u8c03\u7528\u6808\u4f1a\u6cbf\u7740\u8c03\u7528\u6808\u5f80\u56de\u8d70\uff0c\u5728\u5f80\u56de\u8d70\u7684\u8fc7\u7a0b\u4e2d\uff0c\u6bcf\u9047\u5230\u4e00\u4e2a\u51fd\u6570\uff0crust \u5c31\u4f1a\u628a\u8fd9\u4e2a\u51fd\u6570\u7684\u6570\u636e\u7ed9\u6e05\u7406\u6389"),a.a.createElement("li",null,"\u53e6\u4e00\u79cd\u505a\u6cd5\u662f\u7acb\u5373\u4e2d\u6b62\u8c03\u7528\u6808\uff0c\u8fd9\u79cd\u505a\u6cd5\u5c31\u662f\u4e0d\u8fdb\u884c\u6e05\u7406\u52a8\u4f5c\uff0c\u76f4\u63a5\u505c\u6b62\u7a0b\u5e8f\uff0c\u8fd9\u6837\u7684\u8bdd\u5185\u5b58\u5c31\u9700\u8981 OS \u6765\u8fdb\u884c\u6e05\u7406"),a.a.createElement("li",null,"\u90a3\u5982\u679c\u60f3\u8ba9\u4e8c\u8fdb\u5236\u6587\u4ef6\u66f4\u5c0f\uff0c\u5c31\u53ef\u4ee5\u628a\u9ed8\u8ba4\u7684\u5c55\u5f00\u6539\u4e3a\u4e2d\u6b62")),a.a.createElement(c["a"],{code:'# cargo.toml \u751f\u4ea7\u73af\u5883\u4e0b\u5f53\u7a0b\u5e8f\u6050\u614c\u7684\u65f6\u5019\u7acb\u5373\u4e2d\u6b62\u7a0b\u5e8f\n[profile.release]\npanic = "abort"',lang:"toml"}),a.a.createElement(c["a"],{code:"fn main() {\n    panic!(\"crash on you\");\n}\n// thread 'main' panicked at 'crash on you'",lang:"rs"}),a.a.createElement("ul",null,a.a.createElement("li",null,"panic! \u53ef\u80fd\u51fa\u73b0\u5728\u6211\u4eec\u5199\u7684\u4ee3\u7801\u4e2d\uff0c\u4e5f\u53ef\u80fd\u51fa\u73b0\u5728\u6211\u4eec\u4f9d\u8d56\u7684\u4ee3\u7801\u4e2d\uff0c\u53ef\u901a\u8fc7\u8c03\u7528 panic! \u7684\u51fd\u6570\u7684\u56de\u6eaf\u4fe1\u606f\u6765\u5b9a\u4f4d\u5f15\u8d77\u95ee\u9898\u7684\u4ee3\u7801\u3002\u901a\u8fc7\u8bbe\u7f6e\u73af\u5883\u53d8\u91cf RUST_BACKTRACE \u53ef\u5f97\u5230\u56de\u6eaf\u4fe1\u606f"),a.a.createElement("li",null,"\u4e3a\u4e86\u83b7\u53d6\u5e26\u6709\u8c03\u8bd5\u4fe1\u606f\u7684\u56de\u6eaf\uff0c\u5fc5\u987b\u542f\u7528\u8c03\u8bd5\u7b26\u53f7(cargo run/build \u4e0d\u5e26 --release)")),a.a.createElement("ol",{start:3},a.a.createElement("li",null,"Result \u679a\u4e3e\u4e0e\u53ef\u6062\u590d\u7684\u9519\u8bef")),a.a.createElement("ul",null,a.a.createElement("li",null,"\u5728\u5927\u90e8\u5206\u60c5\u51b5\u4e0b\uff0c\u9519\u8bef\u5176\u5b9e\u90fd\u6ca1\u6709\u4e25\u91cd\u5230\u8981\u505c\u6b62\u6574\u4e2a\u5e94\u7528\u7a0b\u5e8f\u7684\u5730\u6b65\u3002\u4f8b\u5982\u4f60\u60f3\u6253\u5f00\u67d0\u4e2a\u6587\u4ef6\uff0c\u4f46\u5982\u679c\u8fd9\u4e2a\u6587\u4ef6\u4e0d\u5b58\u5728\uff0c\u4f60\u901a\u5e38\u4f1a\u8003\u8651\u521b\u5efa\u8fd9\u4e2a\u6587\u4ef6\uff0c\u800c\u4e0d\u662f\u4e2d\u6b62\u8fd9\u4e2a\u7a0b\u5e8f\u7684\u8fd0\u884c"),a.a.createElement("li",null,"\u90a3\u4e48\u5728 rust \u91cc\u9762\u6211\u4eec\u5c31\u53ef\u4ee5\u4f7f\u7528 Result \u6765\u5904\u7406\u8fd9\u79cd\u53ef\u80fd\u5931\u8d25\u7684\u60c5\u51b5\uff0c\u8fd9\u4e2a\u679a\u4e3e\u7c7b\u578b\u7684\u5b9a\u4e49\u5982\u4e0b\u6240\u793a")),a.a.createElement(c["a"],{code:"// T: \u64cd\u4f5c\u6210\u529f\u60c5\u51b5\u4e0b\uff0c OK \u53d8\u4f53\u91cc\u8fd4\u56de\u7684\u6570\u636e\u7684\u7c7b\u578b\n// E: \u64cd\u4f5c\u5931\u8d25\u60c5\u51b5\u4e0b\uff0cErr \u53d8\u4f53\u91cc\u8fd4\u56de\u7684\u9519\u8bef\u7684\u7c7b\u578b\nenum Result<T,E> {\n    Ok(T),\n    Err(E)\n}",lang:"rs"}),a.a.createElement("ul",null,a.a.createElement("li",null,"\u5904\u7406 Result \u7684\u4e00\u79cd\u65b9\u5f0f\u5c31\u662f\u4f7f\u7528 match \u8868\u8fbe\u5f0f\uff0c\u548c Option \u679a\u4e3e\u4e00\u6837\uff0cResult \u53ca\u5176\u53d8\u4f53\u4e5f\u662f\u7531 prelude \u9884\u5bfc\u5165\u7684")),a.a.createElement(c["a"],{code:'// kind() \u7684\u8fd4\u56de\u503c\u662f\u4e00\u4e2a\u679a\u4e3e\uff0c\u5b83\u91cc\u9762\u7684\u53d8\u4f53\u662f\u7528\u4e8e\u63cf\u8ff0 io \u64cd\u4f5c\u53ef\u80fd\u5f15\u8d77\u7684\u4e0d\u540c\u7684\u9519\u8bef\nuse std::fs::File;\n\nfn main () {\n    let f = File::open("text.txt");\n\n    let f = match f {\n       Ok(file) => file,\n       Err(error) => match error.kind() {\n           ErrorKind::NotFound => match File::create("text.txt") {\n               Ok(new_file) => new_file,\n               Err(err) => panic!("Error createing file: {:?}",err),\n           },\n           other_error => panic!("Error opening the file: {:?}",other_error),\n       }\n    };\n}',lang:"rs"}),a.a.createElement("ul",null,a.a.createElement("li",null,"unwrap: match \u8868\u8fbe\u5f0f\u7684\u4e00\u4e2a\u5feb\u6377\u65b9\u6cd5\uff0c\u5982\u679c Result \u7684\u7ed3\u679c\u662f Ok\uff0c\u90a3\u5c31\u8fd4\u56de Ok \u91cc\u9762\u7684\u503c\uff1b\u5982\u679c Result \u7ed3\u679c\u662f Err\uff0c\u90a3\u5c31\u4f1a\u8c03\u7528 panic! \u5b8f")),a.a.createElement(c["a"],{code:'use std::fs::File;\n\nfn main () {\n    let f = File::open("text.txt").unwrap();\n    // \u8fd9\u91cc\u7684 open \u7c7b\u4f3c\u4e8e\u62ff\u5230\u6587\u4ef6\u7684\u53e5\u67c4\u5e76\u4e14\u83b7\u53d6\u8d44\u6e90\u9501\n}',lang:"rs"}),a.a.createElement("ul",null,a.a.createElement("li",null,"\u7f3a\u70b9\u5c31\u662f\u9519\u8bef\u4fe1\u606f\u4e0d\u53ef\u4ee5\u81ea\u5b9a\u4e49\u9519\u8bef\u4fe1\u606f\uff0c\u9488\u5bf9\u8fd9\u4e2a\u7f3a\u70b9 rust \u63d0\u4f9b\u4e86\u53e6\u4e00\u4e2a\u65b9\u6cd5 expect\uff0c\u5b83\u7684\u529f\u80fd\u548c unwrap \u975e\u5e38\u7c7b\u4f3c\uff0c\u4f46\u662f\u53ef\u4ee5\u6307\u5b9a panic! \u5b8f\u9644\u5e26\u7684\u9519\u8bef\u4fe1\u606f")),a.a.createElement(c["a"],{code:'use std::fs::File;\n\nfn main () {\n    let f = File::open("text.txt").expect("\u6587\u4ef6\u4e0d\u5b58\u5728!");\n}\n// thread \'main\' panicked at \'\u6587\u4ef6\u4e0d\u5b58\u5728!:',lang:"rs"}),a.a.createElement("ul",null,a.a.createElement("li",null,"\u6709\u4e86\u8fd9\u79cd\u81ea\u5b9a\u4e49\u7684\u9519\u8bef\u4fe1\u606f\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u8f7b\u677e\u5730\u5b9a\u4f4d\u4ee3\u7801\u4e2d\u4ea7\u751f\u8fd9\u4e2a\u9519\u8bef\u7684\u4f4d\u7f6e\u3002\u800c unwrap \u89e6\u53d1\u7684 panic \u90fd\u4f1a\u6253\u5370\u51fa\u540c\u6837\u7684\u9519\u8bef\u4fe1\u606f\uff0c\u5982\u679c\u591a\u4e2a\u5730\u65b9\u89e6\u53d1\u4e86 panic \u800c\u4e14\u60f3\u627e\u5230\u54ea\u4e00\u4e2a unwrap \u5bfc\u81f4\u4e86 panic\uff0c\u5c31\u9700\u8981\u82b1\u8d39\u66f4\u591a\u7684\u65f6\u95f4")),a.a.createElement("ol",{start:4},a.a.createElement("li",null,"\u4f20\u64ad\u9519\u8bef")),a.a.createElement("ul",null,a.a.createElement("li",null,"\u5f53\u4f60\u7684\u51fd\u6570\u4e2d\u5305\u542b\u4e86\u4e00\u4e9b\u53ef\u80fd\u4f1a\u6267\u884c\u5931\u8d25\u7684\u8c03\u7528\u65f6\uff0c\u4f60\u9664\u4e86\u53ef\u4ee5\u5728\u8fd9\u4e2a\u51fd\u6570\u5904\u7406\u8fd9\u4e2a\u9519\u8bef\u5916\uff0c\u8fd8\u53ef\u4ee5\u5c06\u8fd9\u4e2a\u9519\u8bef\u8fd4\u56de\u7ed9\u8fd9\u4e2a\u51fd\u6570\u7684\u8c03\u7528\u8005\uff0c\u7136\u540e\u8ba9\u5b83\u4eec\u6765\u51b3\u5b9a\u5982\u4f55\u8fdb\u4e00\u6b65\u5904\u7406\u8fd9\u4e2a\u9519\u8bef")),a.a.createElement(c["a"],{code:'fn read_username_from_file() -> Result<String,io::Error> {\n    let f = File::open("hello.txt");\n\n    let mut f = match f {\n        Ok(file) => file,\n        Err(e) => return Err(e)\n    };\n\n    let mut s = String::new();\n    return match f.read_to_string(&mut s) {\n        // read_to_string \u5c06\u6587\u4ef6\u5185\u7684\u5185\u5bb9\u8bfb\u53d6\u5230\u53d8\u91cf s \u5185\n        Ok(_) => Ok(s),\n        Err(e) => Err(e)\n    }\n}',lang:"rs"}),a.a.createElement("ul",null,a.a.createElement("li",null,"\u8fd8\u53ef\u4ee5\u7528 ? \u6765\u4f5c\u4e3a\u4f20\u64ad\u9519\u8bef\u7684\u5feb\u6377\u65b9\u5f0f\uff0c\u4ee5\u4e0b\u7684\u4ee3\u7801\u4e0e\u4e0a\u8ff0\u7684\u4ee3\u7801\u4f5c\u7528\u4e00\u81f4\u3002\u5982\u679c Result \u662f Ok\uff0cOk \u4e2d\u7684\u503c\u5c31\u662f\u8868\u8fbe\u5f0f\u7684\u7ed3\u679c\uff0c\u7136\u540e\u7ee7\u7eed\u6267\u884c\u7a0b\u5e8f\uff1b\u5982\u679c Result \u662f Err\uff0cErr \u5c31\u662f\u6574\u4e2a\u51fd\u6570\u7684\u8fd4\u56de\u503c\uff0c\u5c31\u50cf\u662f\u4f7f\u7528\u4e86 return")),a.a.createElement(c["a"],{code:'fn read_username_from_file() -> Result<String,io::Error> {\n    let mut f = File::open("hello.txt")?;\n    let mut s = String::new();\n    \n    f.read_to_string(&mut s)?;\n    // \u8fd8\u652f\u6301\u94fe\u5f0f\u8c03\u7528\n    // let mut f = File::open("hello.txt")?.read_to_string(&mut s)?;\n    Ok(s);\n}',lang:"rs"}),a.a.createElement("ul",null,a.a.createElement("li",null,"\u88ab ? \u6240\u5e94\u7528\u7684\u9519\u8bef\uff0c\u4f1a\u9690\u5f0f\u7684\u88ab std::convert::From \u4e0a\u7684 from \u51fd\u6570\u6240\u5904\u7406\u3002\u5b83\u7684\u5904\u7406\u65b9\u5f0f\u662f\uff0c\u5f53 ? \u8c03\u7528 from \u51fd\u6570\u65f6\uff0c\u5b83\u6240\u63a5\u6536\u7684\u9519\u8bef\u7c7b\u578b\u4f1a\u88ab\u8f6c\u5316\u4e3a\u5f53\u524d\u51fd\u6570\u8fd4\u56de\u7c7b\u578b\u6240\u5b9a\u4e49\u7684\u9519\u8bef\u7c7b\u578b\u3002\u5b83\u7528\u4e8e\u9488\u5bf9\u4e0d\u540c\u7684\u9519\u8bef\u539f\u56e0\uff0c\u8fd4\u56de\u540c\u4e00\u79cd\u9519\u8bef\u7c7b\u578b\uff0c\u4f46\u5b83\u6709\u4e00\u4e2a\u524d\u63d0\u6761\u4ef6\uff0c\u53ea\u8981\u6bcf\u4e2a\u9519\u8bef\u7c7b\u578b\u5b9e\u73b0\u4e86\u8f6c\u5316\u4e3a\u6240\u8fd4\u56de\u7684\u9519\u8bef\u7c7b\u578b\u7684 from \u51fd\u6570\u5c31\u53ef\u4ee5"),a.a.createElement("li",null,"? \u8fd0\u7b97\u7b26\u53ea\u80fd\u7528\u4e8e\u8fd4\u56de\u7c7b\u578b\u4e3a Result \u7684\u51fd\u6570\u3002Box<dyn Error> \u662f trait \u5bf9\u8c61\uff0c\u53ef\u4ee5\u7b80\u5355\u7406\u89e3\u4e3a\u4efb\u4f55\u53ef\u80fd\u7684\u9519\u8bef\u7c7b\u578b")),a.a.createElement("ol",{start:5},a.a.createElement("li",null,"\u4f55\u65f6\u4f7f\u7528 pannic")),a.a.createElement("ul",null,a.a.createElement("li",null,"\u603b\u4f53\u539f\u5219\u662f\uff0c\u5728\u5b9a\u4e49\u4e00\u4e2a\u53ef\u80fd\u5931\u8d25\u7684\u51fd\u6570\u65f6\uff0c\u4f18\u5148\u8003\u8651\u8fd4\u56de Result\uff1b\u5426\u5219\u7684\u8bdd\uff0c\u5982\u679c\u4f60\u8ba4\u4e3a\u67d0\u79cd\u60c5\u5f62\u80af\u5b9a\u662f\u4e0d\u53ef\u6062\u590d\u7684\uff0c\u5c31\u4f7f\u7528 panic!")),a.a.createElement(u["a"],null,a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",null,"\uff5c\u573a\u666f"))),a.a.createElement("tbody",null,a.a.createElement("tr",null,a.a.createElement("td",null,"\u6f14\u793a\u67d0\u4e9b\u6982\u5ff5:unwrap")),a.a.createElement("tr",null,a.a.createElement("td",null,"\u539f\u578b\u4ee3\u7801:unwrap\u3001except")),a.a.createElement("tr",null,a.a.createElement("td",null,"\u6d4b\u8bd5:unwrap\u3001except")))),a.a.createElement("ul",null,a.a.createElement("li",null,"\u6709\u65f6\u4f60\u6bd4\u7f16\u8bd1\u5668\u638c\u63e1\u66f4\u591a\u7684\u4fe1\u606f\u65f6\uff0c\u4e5f\u5c31\u662f\u8bf4\u4f60\u53ef\u4ee5\u786e\u5b9a Result \u5c31\u662f Ok\uff0c\u90a3\u4f60\u5c31\u4f7f\u7528 unwrap"))))})));l["default"]=e=>{var l=a.a.useContext(r["context"]),t=l.demos;return a.a.useEffect((()=>{var l;null!==e&&void 0!==e&&null!==(l=e.location)&&void 0!==l&&l.hash&&r["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),a.a.createElement(m,{demos:t})}}}]);