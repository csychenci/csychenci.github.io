(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[195],{BM6B:function(e,n,l){e.exports=l.p+"static/WechatIMG4.ced0257b.png"},VDNz:function(e,n,l){"use strict";l.r(n);var t=l("q1tI"),a=l.n(t),r=l("dEAq"),s=(l("0H/f"),l("N0lm"),l("DgDr"),l("cGlH"),l("ekZX"),l("Bjia")),c=(l("tVxl"),l("1pSt"),a.a.memo((e=>{e.demos;return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"markdown"},a.a.createElement("h2",{id:"tsc-\u7684\u7f16\u8bd1\u6d41\u7a0b"},a.a.createElement(r["AnchorLink"],{to:"#tsc-\u7684\u7f16\u8bd1\u6d41\u7a0b","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"tsc \u7684\u7f16\u8bd1\u6d41\u7a0b"),a.a.createElement("hr",null),a.a.createElement("ol",null,a.a.createElement("li",null,"typescript compiler")),a.a.createElement("p",null,a.a.createElement("img",{src:l("njCd"),alt:""})),a.a.createElement("ul",null,a.a.createElement("li",null,"\u6e90\u7801\u9996\u5148\u8981\u7ecf\u8fc7 Scanner \u8fdb\u884c\u8bcd\u6cd5\u5206\u6790\uff0c\u62c6\u5206\u6210\u4e00\u4e2a\u4e2a\u4e0d\u80fd\u7ec6\u5206\u7684\u5355\u8bcd\uff0c\u79f0\u4f5c token"),a.a.createElement("li",null,"token \u4f1a\u7ecf\u8fc7 Parser \u8fdb\u884c\u8bed\u6cd5\u5206\u6790\uff0c\u751f\u6210\u62bd\u8c61\u8bed\u6cd5\u6811\uff0c\u4e5f\u5c31\u662f Ast(abstract syntax tree)"),a.a.createElement("li",null,"\u4e4b\u540e\u5bf9 ast \u505a\u8bed\u4e49\u5206\u6790\uff0c\u5305\u62ec\u7528 binder \u8fdb\u884c\u4f5c\u7528\u57df\u5206\u6790\uff0c\u548c\u7528 Checker \u505a\u7c7b\u578b\u68c0\u67e5\u3002\u5982\u679c\u6709\u7c7b\u578b\u7684\u9519\u8bef\uff0c\u5c31\u662f\u5728 Checker \u8fd9\u4e2a\u9636\u6bb5\u62a5\u7684"),a.a.createElement("li",null,"\u5982\u679c\u6709 Transformer \u63d2\u4ef6(tsc \u652f\u6301 custom transform)\uff0c\u4f1a\u5728 Checker \u4e4b\u540e\u8c03\u7528\uff0c\u53ef\u4ee5\u5bf9 ast \u505a\u5404\u79cd\u589e\u5220\u6539"),a.a.createElement("li",null,"\u7c7b\u578b\u68c0\u67e5\u901a\u8fc7\u540e\u5c31\u4f1a\u7528 Emitter \u628a ast \u6253\u5370\u6210\u76ee\u6807\u4ee3\u7801\uff0c\u751f\u6210\u7c7b\u578b\u58f0\u660e\u6587\u4ef6 d.ts \u4ee5\u53ca sourcemap\uff08\u4f5c\u7528\u662f\u6620\u5c04\u6e90\u7801\u548c\u76ee\u6807\u4ee3\u7801\u7684\u4ee3\u7801\u4f4d\u7f6e\uff0c\u8fd9\u6837\u8c03\u8bd5\u7684\u65f6\u5019\u6253\u65ad\u70b9\u53ef\u4ee5\u5b9a\u4f4d\u5230\u76f8\u5e94\u7684\u6e90\u7801\uff0c\u7ebf\u4e0a\u62a5\u9519\u7684\u65f6\u5019\u4e5f\u80fd\u6839\u636e sourcemap \u5b9a\u4f4d\u5230\u6e90\u7801\u62a5\u9519\u7684\u4f4d\u7f6e\uff09")),a.a.createElement("ol",{start:2},a.a.createElement("li",null,"babel \u7684\u7f16\u8bd1\u6d41\u7a0b")),a.a.createElement("p",null,a.a.createElement("img",{src:l("bJ9n"),alt:""})),a.a.createElement("ul",null,a.a.createElement("li",null,"\u6e90\u7801\u5148\u7ecf\u8fc7 Parser \u505a\u8bcd\u6cd5\u5206\u6790\u548c\u8bed\u6cd5\u5206\u6790\uff0c\u751f\u6210 token \u548c ast\u3002ast \u4f1a\u505a\u8bed\u6cd5\u5206\u6790\u751f\u6210\u4f5c\u7528\u57df\u4fe1\u606f\uff0c\u7136\u540e\u4f1a\u8c03\u7528 Transformer \u8fdb\u884c ast \u7684\u8f6c\u6362\u3002\u6700\u540e\u8c03\u7528 Generator \u628a ast \u6253\u5370\u6210\u76ee\u6807\u4ee3\u7801\u5e76\u751f\u6210 sourcemap"),a.a.createElement("li",null,"babel\u3001typescript compiler \u7684 ast\u3001token \u90fd\u53ef\u4ee5\u901a\u8fc7 ",a.a.createElement(r["Link"],{to:"https://astexplorer.net/"},"astexplorer.net")," \u6765\u67e5\u770b")),a.a.createElement("p",null,a.a.createElement("img",{src:l("BM6B"),alt:""})),a.a.createElement("ol",{start:3},a.a.createElement("li",null,"tsc \u4e0e babel \u7684\u76f8\u4f3c\u4e4b\u5904")),a.a.createElement("ul",null,a.a.createElement("li",null,"\u7f16\u8bd1\u6d41\u7a0b\u4e0a\uff0cbabel \u7684 Parser \u5bf9\u5e94 tsc \u7684 Scanner + Parser\uff0c\u90fd\u662f\u505a\u8bcd\u6cd5\u5206\u6790\u548c\u8bed\u6cd5\u5206\u6790\uff0c\u4e0d\u8fc7 babel \u6ca1\u6709\u7ec6\u5206"),a.a.createElement("li",null,"Transform \u9636\u6bb5\u505a\u8bed\u4e49\u5206\u6790\u548c\u4ee3\u7801\u8f6c\u6362\uff0c\u5bf9\u5e94 tsc \u7684 Binder \u548c Transformer\u3002\u4e0d\u8fc7 tsc \u4f1a\u505a\u7c7b\u578b\u68c0\u67e5\uff0c\u6ca1\u6709 Checker"),a.a.createElement("li",null,"Generator \u505a\u76ee\u6807\u4ee3\u7801\u548c sourcemap \u7684\u751f\u6210\uff0c\u5bf9\u5e94 tsc \u7684 Emitter\u3002\u53ea\u4e0d\u8fc7\u56e0\u4e3a\u6ca1\u6709\u7c7b\u578b\u4fe1\u606f\uff0c\u4e0d\u4f1a\u751f\u6210 d.ts \u6587\u4ef6"),a.a.createElement("li",null,"\u90a3\u4e48 babel \u9664\u4e86\u4e0d\u4f1a\u505a\u7c7b\u578b\u68c0\u67e5\u548c\u751f\u6210\u7c7b\u578b\u58f0\u660e\u6587\u4ef6\u5916\uff0ctsc \u505a\u7684\u4e8b\u60c5\u5b83\u90fd\u80fd\u505a\u5230")),a.a.createElement("ol",{start:4},a.a.createElement("li",null,"\u8bed\u6cd5\u652f\u6301")),a.a.createElement("ul",null,a.a.createElement("li",null,"tsc \u9ed8\u8ba4\u652f\u6301\u6700\u65b0\u7684 es \u89c4\u8303\u7684\u8bed\u6cd5\u548c\u4e00\u4e9b\u8fd8\u5728\u8349\u6848\u9636\u6bb5\u7684\u8bed\u6cd5\uff0c\u5982\u679c\u60f3\u8981\u652f\u6301\u65b0\u8bed\u6cd5\u5c31\u8981\u5347\u7ea7 tsc \u7684\u7248\u672c"),a.a.createElement("li",null,"\u800c babel \u662f\u901a\u8fc7 @babel/preset-env \u6309\u7167\u76ee\u6807\u73af\u5883 targets \u7684\u914d\u7f6e\u81ea\u52a8\u5f15\u5165\u9700\u8981\u7528\u5230\u7684\u63d2\u4ef6\u6765\u652f\u6301\u6807\u51c6\u8bed\u6cd5\uff0c\u5bf9\u4e8e\u8fd8\u5728\u8349\u6848\u9636\u6bb5\u7684\u8bed\u6cd5\u9700\u8981\u5355\u72ec\u5f15\u5165 @babel/proposal-xx \u7684\u63d2\u4ef6\u652f\u6301"),a.a.createElement("li",null,"\u5982\u679c\u53ea\u9700\u8981\u6807\u51c6\u8bed\u6cd5\uff0ctsc \u548c babel \u90fd\u53ef\u4ee5\uff1b\u5982\u679c\u9700\u8981\u4e00\u4e9b\u8fd8\u5728\u8349\u6848\u9636\u6bb5\u7684\u8bed\u6cd5\uff0ctsc \u53ef\u80fd\u5f88\u591a\u90fd\u4e0d\u652f\u6301\uff0c\u800c babel \u53ef\u4ee5\u901a\u8fc7\u5355\u72ec\u5f15\u5165 @babel/proposal-xx \u7684\u63d2\u4ef6\u652f\u6301\u3002\u5728\u8bed\u6cd5\u7279\u6027\u7684\u652f\u6301\u4e0a\uff0cbabel \u66f4\u591a\u4e00\u4e9b")),a.a.createElement("ol",{start:5},a.a.createElement("li",null,"\u4ee3\u7801\u751f\u6210")),a.a.createElement("ul",null,a.a.createElement("li",null,"tsc \u751f\u6210\u7684\u4ee3\u7801\u4e0d\u4f1a\u505a polyfill \u7684\u5904\u7406\uff0c\u5982\u679c\u8981\u505a\u517c\u5bb9\u5904\u7406\u9700\u8981\u5728\u5165\u53e3\u6587\u4ef6\u4e0b\u5f15\u5165 core-js(\u5168\u91cf\u5f15\u5165)")),a.a.createElement(s["a"],{code:"import 'core-js';\n\nPromise.resolve()",lang:"ts"}),a.a.createElement("ul",null,a.a.createElement("li",null,"babel \u4e2d @babel/preset-env \u53ef\u4ee5\u6839\u636e targets \u7684\u914d\u7f6e\u6765\u81ea\u52a8\u5f15\u5165\u9700\u8981\u7684\u63d2\u4ef6\uff0c\u5f15\u5165\u9700\u8981\u7528\u5230\u7684 core-js \u6a21\u5757")),a.a.createElement(s["a"],{code:"require('core-js/modules/es.object.to-string.js')\n\nrequire('core-js/modules/es.promise.js')\n\nPromise.resolve()",lang:"js"}),a.a.createElement("ul",null,a.a.createElement("li",null,"\u5176\u4e2d\u7684 babelrc \u6587\u4ef6\u53ef\u4ee5\u5982\u4e0b\u914d\u7f6e")),a.a.createElement(s["a"],{code:'/**\n * \u901a\u8fc7 useBuiltIns \u6765\u914d\u7f6e\u5f15\u5165\u65b9\u5f0f\n * entry \u662f\u5728\u5165\u53e3\u5904\u6839\u636e targets \u8fc7\u6ee4\u51fa\u7684\u6240\u6709\u7528\u5230\u7684 core-js\n * usage \u5219\u662f\u6bcf\u4e2a\u6a21\u5757\u6309\u7167\u4f7f\u7528\u4e86\u54ea\u4e9b\u6765\u6309\u9700\u5f15\u5165\n */\n{\n  "presets":[\n    [\n      "@babel/preset-typescript",\n      "@babel/preset-env",\n      {\n        "targets":"es2022",\n        "useBuiltIns":"entry"\n      }\n    ]\n  ]\n}',lang:"json"}),a.a.createElement("ul",null,a.a.createElement("li",null,"\u53e6\u5916\uff0cbabel \u4f1a\u6ce8\u5165\u4e00\u4e9b helper \u4ee3\u7801\uff0c\u53ef\u4ee5\u901a\u8fc7 @babel/plugin-transform-runtime \u63d2\u4ef6\u62bd\u79bb\u51fa\u6765\uff0c\u4ece @babel/runtime \u5305\u5f15\u5165")),a.a.createElement(s["a"],{code:'{\n  "presets":[\n    [\n      "@babel/preset-typescript",\n      "@babel/preset-env",\n      {\n        "targets":"es2022",\n        "useBuiltIns":"entry"\n      }\n    ]\n  ],\n  "plugins": ["@babel/plugin-transform-runtime"]\n}',lang:"json"}),a.a.createElement("ul",null,a.a.createElement("li",null,"tsc \u751f\u6210\u7684\u4ee3\u7801\u6ca1\u6709\u505a polyfill \u7684\u5904\u7406\uff0c\u9700\u8981\u5168\u91cf\u5f15\u5165 core-js\uff0c\u800c babel \u5219\u53ef\u4ee5\u7528 @babel/preset-env \u6839\u636e targets \u7684\u914d\u7f6e\u6765\u6309\u9700\u5f15\u5165 core-js \u7684\u90e8\u5206\u6a21\u5757\uff0c\u6240\u4ee5\u751f\u6210\u7684\u4ee3\u7801\u4f53\u79ef\u66f4\u5c0f")),a.a.createElement("ol",{start:6},a.a.createElement("li",null,"babel \u4e0d\u652f\u6301\u67d0\u4e9b ts \u8bed\u6cd5")),a.a.createElement("ul",null,a.a.createElement("li",null,"babel \u4f1a\u5bf9\u6bcf\u4e2a\u6587\u4ef6\u8fdb\u884c\u5355\u72ec\u7f16\u8bd1\uff0c\u800c tsc \u4f1a\u5c06\u6574\u4e2a\u9879\u76ee\u4e00\u8d77\u7f16\u8bd1\uff0c\u5e76\u4e14\u5904\u7406\u7c7b\u578b\u58f0\u660e\u6587\u4ef6\uff0c\u505a\u8de8\u6587\u4ef6\u7684\u7c7b\u578b\u58f0\u660e\u5408\u5e76(\u5982namespaced\u548cinterface\u8fdb\u884c\u8de8\u6587\u4ef6\u5408\u5e76)"),a.a.createElement("li",null,"const enum \u4e0d\u652f\u6301\uff0ctsc \u5bf9\u5e38\u91cf\u679a\u4e3e\u7f16\u8bd1\u540e\u4f1a\u76f4\u63a5\u53d6\u7528\u5230\u7684\u503c\uff0c\u5e38\u91cf\u679a\u4e3e\u8f6c\u8bd1\u7684\u5bf9\u8c61\u4f1a\u88ab\u79fb\u9664\uff0c\u5176\u4e2d\u4f7f\u7528\u8fc7\u7684\u679a\u4e3e\u6210\u5458\u88ab\u66ff\u6362\u6210\u5e38\u91cf")),a.a.createElement(s["a"],{code:"// \u5b9a\u4e49\u4e00\u4e2a\u5e38\u91cf\u679a\u4e3e\nconst enum Role {\n  Repo,\n  Developer,\n  Maintainer,\n  Owner,\n  Guest\n}\n\nconsole.log(Role.Repo)",lang:"ts"}),a.a.createElement(s["a"],{code:"/** \n * \u8f6c\u79fb\u6210 js \u540e\n * \u7f16\u8bd1\u5668\u4f1a\u79fb\u9664\u5e38\u91cf\u679a\u4e3e\uff0c\u8fd9\u6837\u4e0d\u4f1a\u751f\u6210\u4efb\u4f55\u4ee3\u7801\uff08\u6709\u5173\u5e38\u91cf\u679a\u4e3e\u7684\uff09\n*/\nconsole.log(0 /* Repo */);",lang:"js"}),a.a.createElement("ul",null,a.a.createElement("li",null,"const enum \u662f\u5728\u7f16\u8bd1\u671f\u95f4\u628a enum \u7684\u5f15\u7528\u66ff\u6362\u6210\u5177\u4f53\u7684\u503c\uff0c\u9700\u8981\u89e3\u6790\u7c7b\u578b\u4fe1\u606f\uff0c\u800c babel \u5e76\u4e0d\u4f1a\u89e3\u6790\uff0c\u6240\u4ee5\u5b83\u4f1a\u628a const enum \u8f6c\u6210 enum \u6765\u5904\u7406")),a.a.createElement(s["a"],{code:'// \u4e0a\u9762\u7684\u679a\u4e3e\u7c7b\u578b\u7ecf\u8fc7babel\u7f16\u8bd1\u6210js\u540e\nvar Role;\n(function (Role) {\n    Role[Role["Repo"] = 0] = "Repo";\n    Role[Role["Developer"] = 1] = "Developer";\n    Role[Role["Maintainer"] = 2] = "Maintainer";\n    Role[Role["Owner"] = 3] = "Owner";\n    Role[Role["Guest"] = 4] = "Guest";\n})(Role || (Role = {}));',lang:"js"}),a.a.createElement("ul",null,a.a.createElement("li",null,"namespaced \u90e8\u5206\u652f\u6301\u3002\u4e0d\u652f\u6301 namespaced \u7684\u5408\u5e76\uff0c\u4e0d\u652f\u6301\u5bfc\u51fa\u975e const \u7684\u503c")),a.a.createElement(s["a"],{code:'namespace Person {\n  export const name = "person"\n}\n\nnamespace Person {\n  export const name2 = name;\n}',lang:"ts"}),a.a.createElement(s["a"],{code:'/**\n * tsc \u7f16\u8bd1\u540e\u7684\u4ee3\u7801\n */\n"use strict";\nvar Person;\n(function (Person) {\n    Person.name = "person";\n})(Person || (Person = {}));\n(function (Person) {\n    Person.name2 = Person.name;\n})(Person || (Person = {}));',lang:"js"}),a.a.createElement(s["a"],{code:'/**\n * babel \u7f16\u8bd1\u540e\u7684\u4ee3\u7801\n */\n"use strict";\n\nlet Person;\n\n(function (_Person) {\n  const name = _Person.name = "person";\n})(Person || (Person = {}));\n\n(function (_Person2) {\n  const name2 = _Person2.name2 = name;\n})(Person || (Person = {}));',lang:"js"}),a.a.createElement("ul",null,a.a.createElement("li",null,"babel \u4e0d\u4f1a\u505a namespace \u7684\u5408\u5e76\uff0c\u8fd9\u91cc\u7684 name2 \u5c31\u53d8\u6210\u4e86 undefined\u3002\u6b64\u5916\uff0ctsc \u652f\u6301\u5728 namespace \u4e2d\u5bfc\u51fa\u975e const \u7684\u503c\uff0c\u540e\u9762\u8fd8\u53ef\u4ee5\u5bf9\u8fd9\u4e2a\u503c\u8fdb\u884c\u4fee\u6539\uff1b\u800c babel \u4e0d\u652f\u6301\u5bfc\u51fa\u975e const \u7684\u503c")),a.a.createElement(s["a"],{code:'/**\n * tsc \u7f16\u8bd1\u540e\u7684\u4ee3\u7801\n */\nnamespace Person {\n  export const name = "person"\n  export let age = 18\n}\n\nPerson.age = 19',lang:"ts"}),a.a.createElement("p",null,a.a.createElement("img",{src:l("s9gs"),alt:""})),a.a.createElement("ul",null,a.a.createElement("li",null,"\u539f\u56e0\u4e5f\u662f\u56e0\u4e3a\u4e0d\u4f1a\u505a namespace \u7684\u89e3\u6790\uff0c\u800c namespace \u662f\u5168\u5c40\u7684\uff0c\u5982\u679c\u5728\u53e6\u4e00\u4e2a\u6587\u4ef6\u6539\u4e86 namespace \u5bfc\u51fa\u7684\u503c\uff0cbabel \u5e76\u4e0d\u80fd\u5904\u7406\u3002\u6240\u4ee5\u4e0d\u652f\u6301\u5bf9 namespace \u5bfc\u51fa\u7684\u503c\u505a\u4fee\u6539")),a.a.createElement("ol",{start:7},a.a.createElement("li",null,"\u90e8\u5206\u4e0d\u652f\u6301\u7684\u8bed\u6cd5")),a.a.createElement("ul",null,a.a.createElement("li",null,"export = import = \u8fd9\u79cd\u8fc7\u65f6\u7684\u6a21\u5757\u8bed\u6cd5\u5e76\u4e0d\u652f\u6301")),a.a.createElement(s["a"],{code:"import jQuery = require('jquery')",lang:"js"}),a.a.createElement("ul",null,a.a.createElement("li",null,"\u5728\u5f00\u542f jsx \u7f16\u8bd1\u4e4b\u540e\uff0c\u90fd\u4e0d\u652f\u6301\u4ee5 ",a.a.createElement("string",null," \u7684\u65b9\u5f0f\u505a\u7c7b\u578b\u65ad\u8a00"))),a.a.createElement(s["a"],{code:"let a:unknown = <number>1\n/** error */\n\nlet b:unknown = 1 as number",lang:"ts"}),a.a.createElement("ul",null,a.a.createElement("li",null,"babel \u7f16\u8bd1 ts \u4ee3\u7801\u7684\u4f18\u70b9\u662f\u53ef\u4ee5\u901a\u8fc7\u63d2\u4ef6\u652f\u6301\u66f4\u591a\u7684\u8bed\u8a00\u7279\u6027\uff0c\u800c\u4e14\u751f\u6210\u7684\u4ee3\u7801\u662f\u6309\u7167 targets \u7684\u914d\u7f6e\u6309\u9700\u5f15\u5165 core-js \u7684\uff0c\u800c tsc \u6ca1\u505a\u8fd9\u65b9\u9762\u7684\u5904\u7406\uff0c\u53ea\u80fd\u5168\u91cf\u5f15\u5165"),a.a.createElement("li",null,"\u800c\u4e14 tsc \u56e0\u4e3a\u8981\u505a\u7c7b\u578b\u68c0\u67e5\u6240\u4ee5\u662f\u6bd4\u8f83\u6162\u7684\uff0c\u800c babel \u4e0d\u505a\u7c7b\u578b\u68c0\u67e5\uff0c\u7f16\u8bd1\u4f1a\u5feb\u5f88\u591a\uff0c\u867d\u7136\u4e5f\u53ef\u4ee5\u901a\u8fc7 --noEmit \u6765\u505a\u7c7b\u578b\u68c0\u67e5\u4e0d\u751f\u6210\u4ee3\u7801"))))})));n["default"]=e=>{var n=a.a.useContext(r["context"]),l=n.demos;return a.a.useEffect((()=>{var n;null!==e&&void 0!==e&&null!==(n=e.location)&&void 0!==n&&n.hash&&r["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),a.a.createElement(c,{demos:l})}},bJ9n:function(e,n,l){e.exports=l.p+"static/0b515ccf55fe4706a128ad38b50b1c24_tplv-k3u1fbpfcp-zoom-in-crop-mark_3024_0_0_0.d72b0759.webp"},njCd:function(e,n,l){e.exports=l.p+"static/85851ebe6f2d41a28ca3885d91beb969_tplv-k3u1fbpfcp-zoom-in-crop-mark_3024_0_0_0.a19eec42.webp"},s9gs:function(e,n,l){e.exports=l.p+"static/1659189927517.50686408.jpg"}}]);