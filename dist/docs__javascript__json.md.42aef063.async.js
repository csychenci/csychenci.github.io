(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[77],{"5h6z":function(e,n,t){"use strict";t.r(n);var l=t("q1tI"),a=t.n(l),r=t("dEAq"),o=(t("0H/f"),t("N0lm"),t("DgDr"),t("cGlH"),t("ekZX"),t("Bjia")),c=t("tVxl"),m=(t("1pSt"),a.a.memo((e=>{e.demos;return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"markdown"},a.a.createElement("h2",{id:"json"},a.a.createElement(r["AnchorLink"],{to:"#json","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"JSON"),a.a.createElement("hr",null),a.a.createElement("ol",null,a.a.createElement("li",null,"\u4ec0\u4e48\u662f JSON")),a.a.createElement("ul",null,a.a.createElement("li",null,"json \u662f\u8868\u793a\u503c\u548c\u5bf9\u8c61\u7684\u901a\u7528\u683c\u5f0f\u3002\u6700\u521d\u662f\u4e3a js \u521b\u5efa\u7684\uff0c\u4f46\u662f\u76ee\u524d\u5f88\u591a\u7f16\u7a0b\u8bed\u8a00\u4e5f\u6709\u4e86\u5904\u7406\u5b83\u7684\u5e93\uff0c\u53ef\u4ee5\u5f88\u65b9\u4fbf\u7684\u8fdb\u884c\u6570\u636e\u4ea4\u6362")),a.a.createElement("ol",{start:2},a.a.createElement("li",null,"JSON.stringify")),a.a.createElement("ul",null,a.a.createElement("li",null,"\u5c06\u4f20\u5165\u7684\u53c2\u6570\u8f6c\u5316\u4e3a\u4e00\u4e2a json \u683c\u5f0f\u7684\u5b57\u7b26\u4e32\u6216\u5e8f\u5217\u5316\u6210 json \u683c\u5f0f\u3002\u53ef\u63a5\u6536\u7b2c\u4e8c\u4e2a\u53c2\u6570(\u53ef\u4ee5\u662f\u51fd\u6570\u3001\u6570\u7ec4)\uff0c\u7528\u4e8e\u63a7\u5236\u5982\u4f55\u7b5b\u9009\u5bf9\u8c61\u7684\u952e\u503c\uff0c\u53ef\u4ee5\u9009\u62e9\u81ea\u5df1\u6307\u5b9a\u7684\u5c5e\u6027")),a.a.createElement(o["a"],{code:'let obj = { name: \'Bob\', age: 18, sex: \'\u7537\' };\nJSON.stringify(obj); // "{"name":"Bob","age":18,"sex":"\u7537"}"',lang:"js"}),a.a.createElement("ul",null,a.a.createElement("li",null,"\u8be5\u65b9\u6cd5\u5f97\u5230\u7684 json \u5b57\u7b26\u4e32\u662f\u4e00\u4e2a\u88ab\u79f0\u4e3a json \u7f16\u7801\uff08JSON-encoded\uff09 \u6216\u5e8f\u5217\u5316\u6216\u5b57\u7b26\u4e32\u5316\u6216\u7f16\u7ec4\u5316\u7684\u5bf9\u8c61\u3002\u5b83\u4e0e\u666e\u901a\u5bf9\u8c61\u7684\u533a\u522b\u6709\uff1a\u4e00\u3001\u5b57\u7b26\u4e32\u4f7f\u7528\u53cc\u5f15\u53f7\uff0c\u4e0d\u80fd\u662f\u5355\u5f15\u53f7\u6216\u53cd\u5f15\u53f7\uff1b\u4e8c\u3001\u5bf9\u8c61\u5c5e\u6027\u540d\u9700\u8981\u4e3a\u53cc\u5f15\u53f7")),a.a.createElement(c["a"],null,a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",null,"\u6570\u636e\u7c7b\u578b"),a.a.createElement("th",null,"\u652f\u6301\u5e8f\u5217\u5316"),a.a.createElement("th",null,"\u793a\u4f8b"),a.a.createElement("th",null,"\u5e8f\u5217\u5316\u7ed3\u679c"),a.a.createElement("th",null,"\u662f\u5426\u5ffd\u7565"))),a.a.createElement("tbody",null,a.a.createElement("tr",null,a.a.createElement("td",null,"Object"),a.a.createElement("td",null,"\u221a"),a.a.createElement("td",null,"{","name:'Jim',age:'18'","}"),a.a.createElement("td",null,'"',"{",'"name":"Jim","age":"18"',"}",'"'),a.a.createElement("td",null,"\xd7")),a.a.createElement("tr",null,a.a.createElement("td",null,"Array"),a.a.createElement("td",null,"\u221a"),a.a.createElement("td",null,'[1,2,"arr"]'),a.a.createElement("td",null,'"[1,2,"arr"]"'),a.a.createElement("td",null,"\xd7")),a.a.createElement("tr",null,a.a.createElement("td",null,"String"),a.a.createElement("td",null,"\u221a"),a.a.createElement("td",null,"'hello world'"),a.a.createElement("td",null,"'\"hello world\"'"),a.a.createElement("td",null,"\xd7")),a.a.createElement("tr",null,a.a.createElement("td",null,"Number"),a.a.createElement("td",null,"\u221a"),a.a.createElement("td",null,"999\u3001NaN\u3001Infinity"),a.a.createElement("td",null,'"999"\u3001"null"\u3001"null"'),a.a.createElement("td",null,"\xd7")),a.a.createElement("tr",null,a.a.createElement("td",null,"Boolean"),a.a.createElement("td",null,"\u221a"),a.a.createElement("td",null,"true\u3001false"),a.a.createElement("td",null,'"true"\u3001"false"'),a.a.createElement("td",null,"\xd7")),a.a.createElement("tr",null,a.a.createElement("td",null,"null"),a.a.createElement("td",null,"\u221a"),a.a.createElement("td",null,"null"),a.a.createElement("td",null,'"null"'),a.a.createElement("td",null,"\xd7")),a.a.createElement("tr",null,a.a.createElement("td",null,"Function"),a.a.createElement("td",null,"\xd7"),a.a.createElement("td",null,"{","test:function()","{",'return "Function"',"}","}"),a.a.createElement("td",null,'"',"{","}",'"'),a.a.createElement("td",null,"\u221a")),a.a.createElement("tr",null,a.a.createElement("td",null,"undefined"),a.a.createElement("td",null,"\xd7"),a.a.createElement("td",null,"{","name:undefined","}"),a.a.createElement("td",null,'"',"{","}",'"'),a.a.createElement("td",null,"\u221a")),a.a.createElement("tr",null,a.a.createElement("td",null,"Symbol"),a.a.createElement("td",null,"\xd7"),a.a.createElement("td",null,"{",'[Symbol("name")]:"Bob",id:Symbol(123456)',"}"),a.a.createElement("td",null,'"',"{","}",'"'),a.a.createElement("td",null,"\u221a")))),a.a.createElement("ul",null,a.a.createElement("li",null,"\u8be5\u65b9\u6cd5\u652f\u6301\u5bf9\u590d\u6742\u7684\u7ed3\u6784\u5d4c\u5957\u8f6c\u6362\u3002\u4f46\u4e0d\u5141\u8bb8\u5b58\u5728\u5faa\u73af\u5f15\u7528\u7684\u60c5\u51b5\uff0c\u6b64\u79cd\u60c5\u51b5\u5c06\u4f1a\u62a5\u9519")),a.a.createElement(o["a"],{code:'let obj = {\n  name: \'home\',\n  dog: [\'dog1\', \'dog2\', { child: \'dog3\' }],\n  cat: {\n    name: \'Bob\',\n    age: 2,\n    test: function () {\n      return \'\u55b5\u55b5\u55b5\';\n    },\n  },\n  [Symbol(\'id\')]: 541367,\n};\nJSON.stringify(obj);\n// "{"name":"home","dog":["dog1","dog2",{"child":"dog3"}],"cat":{"name":"Bob","age":2}}"\n// symbol\u4e0efunction\u88ab\u5ffd\u7565',lang:"js"}),a.a.createElement(o["a"],{code:"let obj1 = { id: 'obj1' };\nlet obj2 = { id: 'obj2' };\nobj1.obj = obj2;\nobj2.obj = obj1;\nJSON.stringify(obj1);\n// ncaught TypeError: Converting circular structure to JSON\n//     --\x3e starting at object with constructor 'Object'\n//     |     property 'obj' -> object with constructor 'Object'\n//     --- property 'obj' closes the circle\n//     at JSON.stringify (<anonymous>)\n//     at <anonymous>:5:6",lang:"js"}),a.a.createElement("ul",null,a.a.createElement("li",null,"\u8be5\u65b9\u6cd5\u8fd8\u53ef\u4ee5\u63a5\u53d7\u7b2c\u4e8c\u4e2a\u53c2\u6570\u3002\u7b2c\u4e8c\u4e2a\u53c2\u6570\u53ef\u4ee5\u662f\u4e00\u4e2a\u6570\u7ec4\u6216\u65b9\u6cd5\uff0c\u53ef\u4ee5\u5bf9\u6bcf\u4e00\u4e2a\u952e\u503c\u5bf9\u8fdb\u884c\u66ff\u6362\u5e76\u8fd4\u56de\u5df2\u66ff\u6362\u7684\u503c\uff0c\u5982\u679c\u503c\u88ab\u5ffd\u7565\u5219\u4e3a undefined")),a.a.createElement(o["a"],{code:'let obj = {\n  name: \'home\',\n  dog: [\'dog1\', \'dog2\', { child: \'dog3\' }],\n  cat: {\n    name: \'Bob\',\n    age: 2,\n    test: function () {\n      return \'\u55b5\u55b5\u55b5\';\n    },\n  },\n  [Symbol(\'id\')]: 541367,\n};\n\nobj1 = {\n  system: \'windows\',\n};\n\nobj.obj1 = obj1;\nobj1.obj = obj;\n\nJSON.stringify(obj, [\'name\', \'dog\', \'cat\']);\n// "{"name":"home","dog":["dog1","dog2",{}],"cat":{"name":"Bob"}}"  \u7528\u4e8e\u6307\u5b9a\u9700\u8981\u7684\u5c5e\u6027\nJSON.stringify(obj, [\'name\', \'dog\']);\n// "{"name":"home","dog":["dog1","dog2",{}]}"  \u7528\u4e8e\u6307\u5b9a\u9700\u8981\u7684\u5c5e\u6027',lang:"js"}),a.a.createElement(o["a"],{code:'let obj = {\n  name: \'home\',\n  dog: [\'dog1\', \'dog2\', { child: \'dog3\' }],\n  cat: {\n    name: \'Bob\',\n    age: 2,\n    test: function () {\n      return \'\u55b5\u55b5\u55b5\';\n    },\n  },\n  [Symbol(\'id\')]: 541367,\n};\nobj1 = {\n  system: \'windows\',\n};\nobj.obj1 = obj1;\nobj1.obj = obj;\nJSON.stringify(obj, function (key, value) {\n  console.log(`${key}+${value}`);\n  return key == \'obj\' ? undefined : value;\n  // \u7834\u9664\u5faa\u73af\u5f15\u7528\n});\n\n// +[object Object]\n// name+home\n// dog+dog1,dog2,[object Object]\n// 0+dog1\n// 1+dog2\n// 2+[object Object]\n// child+dog3\n// cat+[object Object]\n// name+Bob\n// age+2\n// test+function () {\n//     return "\u55b5\u55b5\u55b5"\n// }\n// obj1+[object Object]\n// system+windows\n\n// "{"name":"home","dog":["dog1","dog2",{"child":"dog3"}],"cat":{"name":"Bob","age":2},"obj1":{"system":"windows"}}"\n// symbol\u952e\u88ab\u5ffd\u7565\uff0c\u65b9\u6cd5\u88ab\u5ffd\u7565',lang:"js"}),a.a.createElement("ul",null,a.a.createElement("li",null,"\u4f7f\u7528\u51fd\u6570\u7684\u60c5\u51b5\u4e0b\uff0c\u6bcf\u4e2a\u5d4c\u5957\u5bf9\u8c61\u548c\u6570\u7ec4\u9879\u7684\u952e\u503c\u5bf9\u90fd\u4f1a\u88ab\u83b7\u53d6\u5230\uff0c\u5e76\u4e14\u5176\u4e2d\u7684\u5d4c\u5957\u7ed3\u6784\u4f1a\u88ab\u9012\u5f52\u8c03\u7528\uff0c\u7b2c\u4e00\u6b21\u88ab\u8c03\u7528\u7684\u5bf9\u8c61\u662f\u6574\u4e2a\u9700\u8981\u5e8f\u5217\u5316\u7684\u5bf9\u8c61 ",a.a.createElement("code",null,"{",'"":obj',"}"),"\uff0c\u5b83\u7684\u952e\u662f\u7a7a\u7684\uff0c\u8be5\u503c\u662f\u6574\u4e2a\u76ee\u6807\u5bf9\u8c61\uff0c\u5176\u4e2d\u51fd\u6570\u7684 this \u662f\u5305\u542b\u5f53\u524d\u5c5e\u6027\u7684\u5bf9\u8c61"),a.a.createElement("li",null,"\u7b2c\u4e09\u4e2a\u53c2\u6570\u7528\u4e8e\u683c\u5f0f\u5316\u8f93\u51fa\u7684 json \u683c\u5f0f\u5b57\u7b26\u4e32\uff0c\u5e38\u7528\u4e8e\u65e5\u5fd7\u8bb0\u5f55\u548c\u7f8e\u5316\u8f93\u51fa")),a.a.createElement(o["a"],{code:'let obj = {\n  name: \'Mary\',\n  age: \'11\',\n};\nJSON.stringify(obj, null, 2);\n// \u7f29\u8fdb\u4e24\u4e2a\u7a7a\u683c\n// "{\n//   "name": "Mary",\n//   "age": "11"\n// }"',lang:"js"}),a.a.createElement("ul",null,a.a.createElement("li",null,"\u5728\u4f7f\u7528 stringify \u8c03\u7528\u8fdb\u884c\u8f6c\u6362\u65f6\uff0c\u5982\u679c toJSON \u65b9\u6cd5\u53ef\u7528\uff0cstringify \u4f1a\u81ea\u52a8\u8c03\u7528\u8be5\u65b9\u6cd5")),a.a.createElement(o["a"],{code:'let age = {\n  num: 23,\n  toJSON() {\n    return this.num;\n  },\n};\n\nlet person = {\n  name: \'Mary\',\n  age,\n  born: new Date(),\n};\n\nJSON.stringify(person);\n// "{"name":"Mary","age":23,"born":"2021-01-10T11:18:17.097Z"}"\n// date\u5bf9\u8c61\u4e2d\u5177\u6709toJSON\u65b9\u6cd5\uff0c\u56e0\u6b64\u81ea\u52a8\u88ab\u8c03\u7528\uff0c\u800c age \u5bf9\u8c61\u81ea\u5b9a\u4e49\u7684toJSON\u65b9\u6cd5\u4e5f\u4f1a\u88ab\u8c03\u7528\n\nJSON.stringify(age); // 23',lang:"js"}),a.a.createElement("ol",{start:3},a.a.createElement("li",null,"JSON.parse")),a.a.createElement("ul",null,a.a.createElement("li",null,"\u8be5\u65b9\u6cd5\u7528\u4e8e\u89e3\u7801 json \u5b57\u7b26\u4e32\uff0c\u79f0\u4e4b\u4e3a\u53cd\u5e8f\u5217\u5316\u3002\u53ef\u63a5\u6536\u4e24\u4e2a\u53c2\u6570\uff0c\u7b2c\u4e00\u4e2a\u4e3a\u8981\u89e3\u7801\u7684 json \u5b57\u7b26\u4e32\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u4e3a\u9700\u8981\u5bf9\u89e3\u7801\u540e\u7684\u5b57\u7b26\u4e32\u8fdb\u884c\u5904\u7406\u7684\u65b9\u6cd5")),a.a.createElement(o["a"],{code:'let person = {\n  name: \'Mary\',\n  born: new Date(),\n};\n\nlet person_json = JSON.stringify(person);\n\nJSON.parse(person_json, function (key, value) {\n  return key == \'born\' ? new Date(value) : value;\n});\n// {name: "Mary", born: Sun Jan 10 2021 19:25:19 GMT+0800 (\u4e2d\u56fd\u6807\u51c6\u65f6\u95f4)}\n// \u8f6c\u6362\u8fc7\u7684date\u662f\u4e00\u4e2aDate\u5bf9\u8c61\nJSON.parse(person_json);\n// {name: "Mary", born: "2021-01-10T11:25:37.655Z"}\n// \u672a\u8fdb\u884c\u8f6c\u6362\u7684date\u662f\u4e00\u4e2a\u5b57\u7b26\u4e32',lang:"js"}),a.a.createElement("ol",{start:4},a.a.createElement("li",null,"\u624b\u5199 stringify")),a.a.createElement("ul",null,a.a.createElement("li",null,"\u8fb9\u754c\u5904\u7406\u3002\u5f53\u6570\u636e\u7c7b\u578b\u4e3a ",a.a.createElement("em",null,"Symbol"),"\u3001",a.a.createElement("em",null,"function"),"\u3001",a.a.createElement("em",null,"undefined")," \u65f6\uff0c\u8be5\u6570\u636e\u4f1a\u88ab\u5ffd\u7565\uff0c\u4e0d\u4f1a\u53c2\u4e0e\u5e8f\u5217\u5316\u7684\u8fc7\u7a0b")),a.a.createElement(o["a"],{code:"const myStringify = function (data) {\n  let type = typeof data;\n\n  // \u975e\u5bf9\u8c61\u503c\u60c5\u51b5\n  if (type !== 'object') {\n    let res = data;\n    /** 1. \u5224\u65ad\u7279\u6b8a\u6570\u5b57\u60c5\u51b5\uff0cNaN\u3001Infinity\u3001-Infinity */\n    if ([NaN,Infinity,-Infinity].includes(data)) {\n      res = 'null';\n    } else if (type === 'function' || type === 'undefined' || type === 'symbol') {\n      /** 2. symbol\u3001undefined\u3001function \u7c7b\u578b\u7684\u503c\u4f1a\u88ab\u5ffd\u7565 */\n      return undefined;\n    } else if (type === 'string') {\n      /** 3. \u5b57\u7b26\u4e32\u5f62\u5f0f\u4f1a\u88ab\u591a\u5305\u88f9\u4e00\u5c42\u5f15\u53f7 */\n      res = '\"' + data + '\"';\n    }\n    /** 4. \u5176\u4ed6\u539f\u59cb\u503c(\u6570\u5b57\u3001\u5e03\u5c14\u503c)\u76f4\u63a5\u8c03\u7528String\u8f6c\u5316 */\n    return String(res);\n  } else if (type === 'object') {\n    // \u5bf9\u8c61\u7684\u60c5\u51b5\n    if (data === null) {\n      /** 5. typeof null === object \uff0c\u503c\u4e3a null\u60c5\u51b5*/\n      return 'null';\n    } else if (data.toJSON && typeof data.toJSON === 'function') {\n      /** 6. \u5224\u65ad\u5bf9\u8c61\u662f\u5426\u643a\u5e26 toJSON \u65b9\u6cd5\uff0c\u5982\u679c\u643a\u5e26\u9700\u8981\u8c03\u7528 toJSON \u65b9\u6cd5 */\n      return myStringify(data.toJSON());\n    } else if (data instanceof Array) {\n      /** 7. \u5224\u65ad\u662f\u5426\u662f\u6570\u7ec4 */\n      let res = [];\n      data.forEach((item, idx) => {\n        /** \u6570\u7ec4\u7684\u5143\u7d20\u4e3a undefined\u3001symbol\u3001function \u7684\u60c5\u51b5\u4e0b\uff0c\u8fd9\u4e9b\u5143\u7d20\u4f1a\u88ab\u8f6c\u5316\u4e3a \"null\" */\n        if (['function','undefined','symbol','null'].includes(typeof item)) {\n          res[index] = 'null';\n        } else {\n          res[index] = myStringify(item);\n        }\n      });\n      /** \u5c06\u53ef\u80fd\u8fdb\u5165\u9012\u5f52\u5e8f\u5217\u5316\u7684\u5143\u7d20\u4e0a\u6dfb\u52a0\u7684\u591a\u4f59\u5f15\u53f7\u53bb\u6389 */\n      return ('['+res.join(',')+']').replace(/'/g,'\"')\n    } else {\n      /** 8. \u5224\u65ad\u662f\u5426\u662f\u5bf9\u8c61 */\n      let res = [];\n      Object.keys(data).forEach((item, idx) => {\n        /** \u65e0\u8bba\u662f key \u7684\u7c7b\u578b\u662f symbol\uff0c\u8fd8\u662fvalue\u7684\u7c7b\u578b\u662f symbol\uff0c\u5e8f\u5217\u5316\u65f6\u90fd\u4f1a\u88ab\u5ffd\u7565 */\n        if (typeof item !== 'symbol') {\n          if (!['function','symbol','undefined'].includes(typeof data[item])) {\n            res.push('\"' + item + '\"' + ':' + myStringify(data[item]));\n          }\n        }\n      });\n      return ('{' + res + '}').replace(/'/g, '\"');\n    }\n  }\n};",lang:"js"})))})));n["default"]=e=>{var n=a.a.useContext(r["context"]),t=n.demos;return a.a.useEffect((()=>{var n;null!==e&&void 0!==e&&null!==(n=e.location)&&void 0!==n&&n.hash&&r["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),a.a.createElement(m,{demos:t})}}}]);