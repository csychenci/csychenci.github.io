(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[242],{UyVJ:function(e,n,l){"use strict";l.r(n);var t=l("q1tI"),a=l.n(t),s=l("dEAq"),r=(l("0H/f"),l("N0lm"),l("DgDr"),l("cGlH"),l("ekZX"),l("Bjia")),i=(l("tVxl"),l("1pSt"),a.a.memo((e=>{e.demos;return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"markdown"},a.a.createElement("h2",{id:"css\u517c\u5bb9\u6027\u95ee\u9898"},a.a.createElement(s["AnchorLink"],{to:"#css\u517c\u5bb9\u6027\u95ee\u9898","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"CSS\u517c\u5bb9\u6027\u95ee\u9898"),a.a.createElement("hr",null),a.a.createElement("ol",null,a.a.createElement("li",null,"css3\u524d\u7f00\u95ee\u9898")),a.a.createElement("ul",null,a.a.createElement("li",null,"\u7531\u4e8e\u5404\u5927\u6d4f\u89c8\u5668\u7684\u6807\u51c6\u4e0d\u540c\u4e14\u4e0d\u80fd\u5b8c\u5168\u7edf\u4e00\uff0c\u56e0\u6b64\u9700\u8981\u517c\u5bb9\u5176\u4ed6\u6d4f\u89c8\u5668\u6837\u5f0f\u3002\u5728 webpack \u4e2d\u53ef\u4ee5\u901a\u8fc7\u4e00\u4e9b\u63d2\u4ef6\u6765\u81ea\u52a8\u8865\u9f50 CSS3 \u524d\u7f00")),a.a.createElement("blockquote",null,a.a.createElement("p",null,"\u56e0\u4e3a css \u4e2d\u6709\u4e00\u4e9b\u5c5e\u6027\u8fd8\u6ca1\u6709\u786e\u5b9a\u4e0b\u6765\uff0c\u6807\u51c6\u89c4\u8303\u8fd8\u6ca1\u6709\u53d1\u5e03\uff0c\u8bb8\u591a\u6d4f\u89c8\u5668\u652f\u6301\u7684\u7a0b\u5ea6\u4e5f\u4e0d\u540c\uff0c\u800c\u4e14\u6bcf\u4e2a\u6d4f\u89c8\u5668\u5382\u5546\u540c\u4e00\u4e2a\u6837\u5f0f\u652f\u6301\u7684\u5199\u6cd5\u4e5f\u4e0d\u540c\uff0c\u6240\u4ee5\u8981\u52a0\u524d\u7f00\u6765\u8fbe\u5230\u5404\u4e2a\u6d4f\u89c8\u5668\u517c\u5bb9\uff0c\u5c06\u6765\u7edf\u4e00\u4e86\u89c4\u8303\u5c31\u4e0d\u7528\u5199\u524d\u7f00\u4e86")),a.a.createElement(r["a"],{code:"npm i autoprefixer postcss-loader -D",lang:"bash"}),a.a.createElement("ul",null,a.a.createElement("li",null,"autoprefixer\uff1a\u5229\u7528\u4ece Can I Use \u7f51\u7ad9 \u83b7\u53d6\u7684\u6570\u636e\u4e3a CSS \u89c4\u5219\u6dfb\u52a0\u7279\u5b9a\u5382\u5546\u7684\u524d\u7f00\u3002\u5c5e\u4e8e\u662f css \u7684\u540e\u7f6e\u5904\u7406\u5668\uff0c\u6837\u5f0f\u5904\u7406\u5b8c\u540e\u4ee3\u7801\u6253\u5305\u540e\uff0c\u5728\u5bf9\u5b83\u505a\u4e00\u4e2a\u540e\u7f6e\u5904\u7406\u3002\u800c less/scss \u662f css \u7684\u9884\u5904\u7406\u5668\uff0c\u9884\u5904\u7406\u5668\u662f\u5728\u6253\u5305\u4e4b\u524d\u8fdb\u884c\u5904\u7406")),a.a.createElement(r["a"],{code:"module.exports = {\n  module: {\n    rule: [\n      {\n        test: /\\.less$/,\n        use: [\n          MiniCssExtractPlugin.loader,\n          'css-loader',\n          'less-loader',\n          {\n            loader: 'postcss-loader',\n            options: {\n              postcssOptions: {\n                plugins: [\"autoprefixer\"]\n              }\n            }\n          }\n        ]\n      },\n    ]\n  }\n}",lang:"js"}),a.a.createElement("ul",null,a.a.createElement("li",null,"\u63a5\u7740\uff0c\u5728 package.json \u4e2d\u6dfb\u52a0 browserslist \u5b57\u6bb5\uff0c\u91cc\u9762\u6307\u5b9a\u6240\u9700\u8981\u517c\u5bb9\u7684\u6d4f\u89c8\u5668\u7248\u672c")),a.a.createElement(r["a"],{code:'/**\n * package.json\n * last 2 version\uff1a\u517c\u5bb9\u6700\u8fd1\u7684\u4e24\u4e2a\u7248\u672c\n * > 1%\uff1a\u7248\u672c\u4f7f\u7528\u4eba\u6570\u5927\u4e8e 1%\n * \u5176\u4ed6\u7684\u53ef\u4ee5\u67e5\u770bpostcss\u5b98\u7f51\n*/\n{\n  "browserslist": [\n    "last 2 versions","> 1%","not ie <= 10"\n\t],\n}',lang:"json"}),a.a.createElement("ol",{start:2},a.a.createElement("li",null,"\u9759\u6001\u8d44\u6e90\u5185\u8054")),a.a.createElement("ul",null,a.a.createElement("li",null,"\u5982\u679c\u6211\u4eec\u9700\u8981\u5728\u4ee3\u7801\u91cc\u4f7f\u7528\u7b2c\u4e09\u65b9\u5e93\uff0c\u6bd4\u5982 node_modules \u4e2d\u7684\u6a21\u5757\uff0c\u5c06\u5b83\u5185\u8054\u5230\u4ee3\u7801\u4e2d\u4f7f\u7528\uff0c\u5728\u5f53\u524d\u7684\u914d\u7f6e\u73af\u5883\u4e0b\u662f\u65e0\u6cd5\u505a\u5230\u7684\u3002\u8fd9\u65f6\u5019\u5c31\u8981\u7528\u5230\u5176\u4ed6 loader \u6765\u505a\u8fd9\u4e2a\u4e8b\u4e86\uff0craw-loader \u53ef\u4ee5\u89e3\u51b3 html \u548c js \u5185\u655b\u7684\u95ee\u9898")),a.a.createElement(r["a"],{code:"\x3c!-- \u5185\u8054html --\x3e\n<head>\n  <%= {require('raw-loader!babel-loader!./index.html') %>\n</head>\n<script>${require('raw-loader!babel-loader!./index.html')}<\/script>\n\x3c!-- \u5185\u8054js\uff0c\u4ee3\u7801\u4e2d\u53ef\u80fd\u5b58\u5728es6\u7684\u8bed\u6cd5\uff0c\u9700\u8981babel-loader\u53bb\u505a\u5904\u7406 --\x3e\n<script><%= require('raw-loader!babel-loader!../../node_modules/lib-flexible/flexible.js')%><\/script>",lang:"html"}),a.a.createElement("ul",null,a.a.createElement("li",null,"\u5185\u8054 html \u7247\u6bb5\u7684\u4f5c\u7528\u5728\u4e8e\u5f53\u5f00\u53d1\u9875\u9762\u7684\u65f6\u5019\uff0c\u6bcf\u4e2a\u9875\u9762\u53ef\u80fd\u9700\u8981\u5927\u91cf\u7684 meta \u4fe1\u606f\uff0c\u8fd9\u65f6\u5019\u53ef\u4ee5\u5c06\u5b83\u63d0\u53d6\u51fa\u6765\uff0c\u7136\u540e\u901a\u8fc7\u8fd9\u4e2a raw-loader \u628a\u5b83\u5185\u8054\u5230\u9875\u9762\u4e2d"),a.a.createElement("li",null,"css \u5185\u8054\u53ef\u4ee5\u76f4\u63a5\u501f\u52a9 style-loader\uff0c\u4f46\u56e0\u4e3a\u6211\u4eec\u5c06 css \u505a\u4e86\u62c6\u5206\uff0c\u6240\u4ee5\u8981\u4f7f\u7528\u5176\u4ed6\u7684\u65b9\u5f0f\uff0c",a.a.createElement("code",null,"html-inline-css-webpack-plugin")," \u53ef\u4ee5\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898")),a.a.createElement(r["a"],{code:'module.exports = {\n  module:{\n    rule:[\n      {\n        test:/\\.css$/,\n        use:[\n          {\n            loader:"style-loader",\n            options:{\n              insertAt: \'top\', // \u5c06\u6837\u5f0f\u63d2\u5165\u5230 head\n              singleton:true // \u5c06\u6240\u6709\u7684style\u6807\u7b7e\u5408\u5e76\u4e3a\u4e00\u4e2a\n            }\n          },\n          "css-loader"\n        ]\n      }\n    ]\n  }\n}',lang:"js"}),a.a.createElement("ol",{start:3},a.a.createElement("li",null,"\u79fb\u52a8\u7aef px \u81ea\u52a8\u8f6c\u6362 rem")),a.a.createElement("ul",null,a.a.createElement("li",null,"\u7531\u4e8e\u673a\u578b\u7684\u66f4\u65b0\uff0c\u4f1a\u5bfc\u81f4\u9700\u8981\u9002\u914d\u4e0d\u540c\u7684\u5206\u8fa8\u7387\u7684\u8bbe\u5907\u3002rem \u662f\u4e00\u4e2a\u76f8\u5bf9\u5355\u4f4d\uff0c\u57fa\u4e8e\u6839\u5143\u7d20\u7684\u5927\u5c0f\u53bb\u9002\u914d\u673a\u578b"),a.a.createElement("li",null,"\u901a\u8fc7 px2rem-loader \u5c06 px \u8f6c\u6362\u6210 rem\uff0c\u6700\u540e\u4f7f\u7528 lib-flexible \u6765\u52a8\u6001\u7684\u8ba1\u7b97\u9875\u9762\u6e32\u67d3\u65f6\u6839\u5143\u7d20\u7684 font-size \u7684\u5927\u5c0f")),a.a.createElement(r["a"],{code:"npm i px2rem-loader -D\nnpm i lib-flexible -S",lang:"bash"}),a.a.createElement("ul",null,a.a.createElement("li",null,"\u63a5\u7740\uff0c\u5728 webpack.prod.js \u4e2d\u4f7f\u7528\u8fd9\u4e2a loader\uff0c\u5c06 px \u8f6c\u6362\u6210 rem")),a.a.createElement(r["a"],{code:"/** \n * px2rem-loader\n * remUnit: 75\uff1a\u8868\u793a 1rem === 75px\uff0c\u6bd4\u8f83\u9002\u5408 750 \u7684\u8bbe\u8ba1\u7a3f\n * remPrecision: 8\uff1apx \u8f6c\u6362\u8fc7\u7684 rem \u4fdd\u7559\u516b\u4f4d\u5c0f\u6570\n*/\nmodule.exports = {\n  module:{\n    rule:[\n      {\n        test: /\\.less$/,\n        use: [\n          MiniCssExtractPlugin.loader,\n          'css-loader',\n          {\n            loader: 'px2rem-loader',\n            options: {\n              remUnit: 75,\n              remPrecision: 8\n            }\n          },\n          'less-loader',\n          {\n            loader: 'postcss-loader',\n            options: {\n              postcssOptions: {\n                plugins: [\"autoprefixer\"]\n              }\n            }\n          }\n        ]\n      },\n    ]\n  }\n}",lang:"js"}),a.a.createElement("ul",null,a.a.createElement("li",null,"\u63a5\u7740\uff0c\u5728\u4e3b\u5165\u53e3 js \u6587\u4ef6\u4e2d\u5f15\u5165 lib-flexible\uff0c\u6765\u52a8\u6001\u8ba1\u7b97\u6839\u5143\u7d20 font-size \u7684\u5927\u5c0f\uff0c\u4e5f\u53ef\u4ee5\u5728\u6a21\u677f html \u4e2d\u5f15\u5165\u3002",a.a.createElement("del",null,"$","{","require('raw-loader!babel-loader!./index.html')","}"))),a.a.createElement(r["a"],{code:"/** \n * main.js\n*/\n\nimport 'lib-flexible'",lang:"js"}),a.a.createElement(r["a"],{code:"<script><%= require('raw-loader!babel-loader!../../node_modules/lib-flexible/flexible.js')%><\/script>",lang:"html"}),a.a.createElement("p",null,a.a.createElement("img",{src:l("j2id"),alt:""})),a.a.createElement("hr",null),a.a.createElement("h2",{id:"\u672c\u4f8b\u7684webpack\u914d\u7f6e"},a.a.createElement(s["AnchorLink"],{to:"#\u672c\u4f8b\u7684webpack\u914d\u7f6e","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"\u672c\u4f8b\u7684webpack\u914d\u7f6e"),a.a.createElement("hr",null),a.a.createElement("ol",null,a.a.createElement("li",null,"webpack.prod.js")),a.a.createElement(r["a"],{code:"const path = require('path');\nconst glob = require('glob')\nconst MiniCssExtractPlugin = require('mini-css-extract-plugin')\nconst OptimizeCssAssetsPlugin = require('optimize-css-assets-webpack-plugin');\nconst HtmlWebpackPlugin = require('html-webpack-plugin');\nconst TerserPlugin = require('terser-webpack-plugin');\nconst { CleanWebpackPlugin } = require('clean-webpack-plugin')\n\nconst matchFile = () => {\n  const entry = {};\n  const htmlWebpackPlguins = [];\n  const entryFiles = glob.sync('./src/*/index.js')\n\n\n  Object.keys(entryFiles).map(key => {\n    const entryFile = entryFiles[key];\n\n    const chunkName = entryFile.match(/src\\/(.*)\\/index\\.js/);\n\n    entry[chunkName[1]] = entryFile;\n\n    console.log(chunkName[1],entryFile)\n\n    htmlWebpackPlguins.push(new HtmlWebpackPlugin({\n      template: path.join(__dirname, `src/${chunkName[1]}/index.html`),\n      filename: `${chunkName[1]}.html`,\n      chunks: [chunkName[1]],\n      inject: true,\n      minify: {\n        html5: true,\n        collapseWhitespace: true,\n        preserveLineBreaks: false,\n        minifyCSS: true,\n        minifyJS: true,\n        removeComments: false\n      }\n    })\n    )\n  })\n\n  return {\n    entry,\n    htmlWebpackPlguins\n  }\n}\n\nconst {\n  entry,\n  htmlWebpackPlguins\n} = matchFile()\n\nmodule.exports = {\n  mode: 'production',\n  entry: entry,\n  output: {\n    filename: \"[name]_[chunkhash:8].js\",\n    path: __dirname + '/dist'\n  },\n  optimization: {\n    minimizer: [\n      new OptimizeCssAssetsPlugin({\n        assetNameRegExp: /\\.css$/g,\n        // cssProcessor: require('cssnano'),\n        cssProcessorPluginOptions: {\n          preset: ['default', { discardComments: { removeAll: true } }],\n        },\n        canPrint: true\n      }),\n      new TerserPlugin()\n    ],\n    noEmitOnErrors: true\n  },\n  plugins: [\n    new MiniCssExtractPlugin({\n      filename: \"[name]_[contenthash:8].css\"\n    }),\n    new CleanWebpackPlugin()\n  ].concat(htmlWebpackPlguins),\n  module: {\n    rules: [\n      {\n        test: /\\.js$/,\n        use: \"babel-loader\"\n      },\n      {\n        test: /\\.css$/,\n        use: [\n          MiniCssExtractPlugin.loader,\n          'css-loader'\n        ]\n      },\n      {\n        test: /\\.less$/,\n        use: [\n          MiniCssExtractPlugin.loader,\n          'css-loader',\n          {\n            loader: 'px2rem-loader',\n            options: {\n              remUnit: 75,\n              remPrecision: 8\n            }\n          },\n          'less-loader',\n          {\n            loader: 'postcss-loader',\n            options: {\n              postcssOptions: {\n                plugins: [\"autoprefixer\"]\n              }\n            }\n          }\n        ]\n      },\n      {\n        test: /\\.(png|jpg|jpeg|gif)$/,\n        use: [\n          {\n            loader: \"file-loader\",\n            options: {\n              filename: \"[name]_[hash:8].[ext]\"\n            }\n          }\n        ]\n      },\n    ]\n  }\n}",lang:"js"})))})));n["default"]=e=>{var n=a.a.useContext(s["context"]),l=n.demos;return a.a.useEffect((()=>{var n;null!==e&&void 0!==e&&null!==(n=e.location)&&void 0!==n&&n.hash&&s["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),a.a.createElement(i,{demos:l})}},j2id:function(e,n,l){e.exports=l.p+"static/flexible.6150580b.png"}}]);