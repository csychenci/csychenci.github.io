(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[144],{DKtt:function(e,n,l){"use strict";l.r(n);var r=l("q1tI"),t=l.n(r),o=l("dEAq"),a=(l("0H/f"),l("N0lm"),l("DgDr"),l("cGlH"),l("ekZX"),l("Bjia")),c=(l("tVxl"),l("1pSt"),t.a.memo((e=>{e.demos;return t.a.createElement(t.a.Fragment,null,t.a.createElement("div",{className:"markdown"},t.a.createElement("h2",{id:"promise-\u7684\u539f\u578b\u65b9\u6cd5"},t.a.createElement(o["AnchorLink"],{to:"#promise-\u7684\u539f\u578b\u65b9\u6cd5","aria-hidden":"true",tabIndex:-1},t.a.createElement("span",{className:"icon icon-link"})),"Promise \u7684\u539f\u578b\u65b9\u6cd5"),t.a.createElement("hr",null),t.a.createElement("ol",null,t.a.createElement("li",null,"Promise.prototype.catch")),t.a.createElement("ul",null,t.a.createElement("li",null,t.a.createElement("code",null,"catch")," \u65b9\u6cd5\u4f1a\u8fd4\u56de\u4e00\u4e2a ",t.a.createElement("code",null,"promise"),"\uff0c\u5e76\u4e14\u5904\u7406\u62d2\u7edd\u7684\u60c5\u51b5\u3002\u5b83\u7684\u884c\u4e3a\u5c31\u50cf\u8c03\u7528 ",t.a.createElement("code",null,"then(null/undefined,onRejected)")," \u76f8\u540c"),t.a.createElement("li",null,"\u5982\u679c ",t.a.createElement("code",null,"onRejected")," \u629b\u51fa\u4e00\u4e2a\u9519\u8bef\u6216\u8fd4\u56de\u4e00\u4e2a\u672c\u8eab\u5931\u8d25\u7684 ",t.a.createElement("code",null,"Promise"),"\uff0c\u901a\u8fc7 ",t.a.createElement("code",null,"catch()")," \u8fd4\u56de\u7684 ",t.a.createElement("code",null,"Promise")," \u88ab ",t.a.createElement("code",null,"rejected"),"\uff1b\u5426\u5219\uff0c\u5b83\u5c06\u663e\u793a\u4e3a\u6210\u529f\uff08resolved\uff09"),t.a.createElement("li",null,"\u4e00\u4e2a\u5df2\u51b3\u8bae\u7684 ",t.a.createElement("code",null,"promise")," \u4e5f\u4e0d\u4f1a\u88ab ",t.a.createElement("code",null,"catch")," \u6240\u5904\u7406")),t.a.createElement(a["a"],{code:"let promise1 = new Promise((resolved, rejected) => {\n  rejected('first error');\n}).then(null, (reason) => {\n  throw new Error('promise1 second error');\n});\n\nlet promise2 = new Promise((resolved, rejected) => {\n  rejected('first error');\n}).then(null, (reason) => {\n  return Promise.reject('promise2 ' + reason);\n});\n\nlet promise3 = new Promise((resolved, rejected) => {\n  rejected('first error');\n}).then(null, (reason) => {\n  console.log(reason);\n  // \u672a\u629b\u51fa\u4e00\u4e2a\u9519\u8bef\u6216\u8fd4\u56de\u4e00\u4e2a\u5931\u8d25\u7684promise\n});\n\nconsole.log(promise1);\n// Promise\xa0{<rejected>: Error: promise1 second error\n\nconsole.log(promise2);\n// Promise\xa0{<rejected>: \"promise2 first error\"}\n\nconsole.log(promise3);\n// Promise\xa0{<fulfilled>: undefined}",lang:"js"}),t.a.createElement("ul",null,t.a.createElement("li",null,"\u6211\u4eec\u53ef\u4ee5\u629b\u51fa\u4e00\u4e2a\u9519\u8bef\uff0c\u7136\u540e\u4f7f\u7528 ",t.a.createElement("code",null,"catch")," \u6765\u6355\u83b7\u5230\u8fd9\u4e2a\u9519\u8bef\u3002\u4f46\u662f\u5728\u5f02\u6b65\u51fd\u6570\u4e2d\u629b\u51fa\u7684\u9519\u8bef\u4e0d\u4f1a\u88ab ",t.a.createElement("code",null,"catch")," \u6240\u6355\u83b7\uff0c\u5728 ",t.a.createElement("code",null,"resolve()")," \u540e\u9762\u7684\u629b\u51fa\u7684\u9519\u8bef\u4e5f\u4e0d\u4f1a\u88ab\u6355\u83b7")),t.a.createElement(a["a"],{code:"let promise1 = new Promise((resolved, rejected) => {\n  Promise.reject('1');\n})\n  .then((res) => {\n    console.log(res);\n  })\n  .then(null, (reason) => {\n    throw new Error('promise1 second error');\n  });\n\nlet promise2 = new Promise((resolved, rejected) => {\n  setTimeout(() => {\n    throw new Error('error');\n  }, 1000);\n})\n  .then((res) => {\n    console.log(res);\n  })\n  .then(null, (reason) => {\n    throw new Error('promise1 second error');\n  });\n\nlet promise3 = new Promise((resolved, rejected) => {\n  resolved('error');\n  throw new Error('error');\n})\n  .then((res) => {\n    console.log(res);\n  })\n  .then(null, (reason) => {\n    throw new Error('promise1 second error');\n  });\n\nconsole.log(promise1);\n// Promise\xa0{<pending>}\n\nconsole.log(promise2);\n// Promise\xa0{<pending>}\n\nconsole.log(promise3);\n// Promise\xa0{<fulfilled>: undefined}",lang:"js"}),t.a.createElement("ul",null,t.a.createElement("li",null,"\u540c\u65f6\uff0c",t.a.createElement("code",null,"catch")," \u4f1a\u6355\u83b7\u90a3\u4e9b\u610f\u5916\u7684\u9519\u8bef\u4ee5\u53ca\u663e\u5f0f\u5730\u629b\u51fa\u7684\u9519\u8bef\u3002\u4f46\u662f\uff0c\u9664\u4e86\u624b\u52a8 ",t.a.createElement("code",null,"reject")," \u5916\uff0c\u5728 ",t.a.createElement("code",null,"executor")," \u8fd0\u884c\u4e4b\u540e\u800c\u4e0d\u662f\u5728\u8fd0\u884c\u65f6\u751f\u6210\u7684\u9519\u8bef\uff0c\u5c06\u4e0d\u4f1a\u88ab ",t.a.createElement("code",null,"catch")," \u6240\u6355\u83b7")),t.a.createElement(a["a"],{code:"let promise1 = new Promise((resolved, rejected) => {\n  throw new Error('executor runing error');\n  // executor\u8fd0\u884c\u65f6\u629b\u51fa\n})\n  .then((res) => {\n    console.log(res);\n  })\n  .catch((reason) => {\n    console.log(reason);\n  });\n// Error: executor runing error\n\nconsole.log(promise1);\n// Promise\xa0{<fulfilled>: undefined}",lang:"js"}),t.a.createElement(a["a"],{code:"let promise2 = new Promise((resolved, rejected) => {\n  setTimeout(() => {\n    throw new Error('executor runing error');\n  });\n  // executor\u8fd0\u884c\u4e4b\u540e\u5f02\u6b65\u629b\u51fa\n})\n  .then((res) => {\n    console.log(res);\n  })\n  .catch((reason) => {\n    console.log(reason);\n  });\n// \u65e0\u8f93\u51fa\n\nconsole.log(promise2);\n// Promise\xa0{<pending>}",lang:"js"}),t.a.createElement("ol",{start:2},t.a.createElement("li",null,"Promise.prototype.then")),t.a.createElement("ul",null,t.a.createElement("li",null,"\u6b64\u65b9\u6cd5\u4f1a\u8fd4\u56de\u4e00\u4e2a\u65b0\u7684 ",t.a.createElement("code",null,"Promise"),"\u3002\u6700\u591a\u4e3a\u5b83\u63d0\u4f9b\u4e24\u4e2a\u53c2\u6570\uff0c\u5206\u522b\u4e3a\u8c03\u7528\u6b64\u65b9\u6cd5\u7684 ",t.a.createElement("code",null,"Promise")," \u7684\u6210\u529f\u548c\u5931\u8d25\u60c5\u51b5\u7684\u56de\u8c03\u51fd\u6570"),t.a.createElement("li",null,"\u5f53 ",t.a.createElement("code",null,"Promise")," \u53d8\u6210\u63a5\u53d7\u72b6\u6001(",t.a.createElement("em",null,"fulfilled"),")\u65f6\uff0c\u5373\u63a5\u53d7\u7684\u6700\u7ec8\u7ed3\u679c(",t.a.createElement("em",null,"the fulfillment value"),")\u3002\u5982\u679c\u8be5 ",t.a.createElement("code",null,"onFulfilled")," \u51fd\u6570\u7684\u53c2\u6570\u4e0d\u662f\u51fd\u6570\uff0c\u5219\u4f1a\u5728\u5185\u90e8\u88ab\u66ff\u6362\u4e3a (x) => x\uff0c\u5373\u539f\u6837\u8fd4\u56de ",t.a.createElement("code",null,"promise")," \u6700\u7ec8\u7ed3\u679c\u7684\u51fd\u6570")),t.a.createElement(a["a"],{code:'let p1 = Promise.resolve(\'fulfilled\');\n\np1.then(1);\n// Promise\xa0{<fulfilled>: "fulfilled"}\n\np1.then([1, 2, 3]);\n//  Promise\xa0{<fulfilled>: "fulfilled"}',lang:"js"}),t.a.createElement("ul",null,t.a.createElement("li",null,"\u5f53 ",t.a.createElement("code",null,"Promise")," \u53d8\u6210\u62d2\u7edd\u72b6\u6001(",t.a.createElement("em",null,"rejected"),")\u65f6\uff0c\u5373\u62d2\u7edd\u7684\u539f\u56e0(",t.a.createElement("em",null,"rejection reason"),")\uff0c\u5982\u679c\u8be5",t.a.createElement("code",null,"onRejected")," \u51fd\u6570\u7684\u53c2\u6570\u4e0d\u662f\u51fd\u6570\uff0c\u5219\u4f1a\u5728\u5185\u90e8\u88ab\u66ff\u6362\u4e3a\u4e00\u4e2a ",t.a.createElement("code",null,"Thrower")," \u51fd\u6570")),t.a.createElement(a["a"],{code:'let p1 = Promise.reject(\'rejected\');\n\np1.then(1);\n// Promise\xa0{<rejected>: "rejected"}\n// Uncaught (in promise) rejected\n\np1.then([1, 2, 3]);\n// Promise\xa0{<rejected>: "rejected"}\n// Uncaught (in promise) rejected',lang:"js"}),t.a.createElement("ul",null,t.a.createElement("li",null,t.a.createElement("code",null,"Promise")," \u6839\u636e\u5b8c\u6210\u6216\u5931\u8d25\u72b6\u6001\uff0c\u8fd4\u56de\u7684\u51fd\u6570\u5c06\u88ab\u5f02\u6b65\u8c03\u7528\uff0c\u6839\u636e ",t.a.createElement("code",null,"then")," \u7684\u56de\u8c03\u51fd\u6570\u4ea7\u751f\u7684\u8fd4\u56de\u503c\u6709\u4ee5\u4e0b\u60c5\u51b5")),t.a.createElement("blockquote",null,t.a.createElement("p",null,"\u8fd4\u56de\u4e86\u4e00\u4e2a\u503c\uff0c\u90a3\u4e48 ",t.a.createElement("code",null,"then")," \u8fd4\u56de\u7684 ",t.a.createElement("code",null,"Promise")," \u5c06\u4f1a\u6210\u4e3a\u63a5\u53d7\u72b6\u6001\uff0c\u5e76\u4e14\u5c06\u8fd4\u56de\u7684\u503c\u4f5c\u4e3a\u63a5\u53d7\u72b6\u6001\u7684\u56de\u8c03\u51fd\u6570\u7684\u53c2\u6570\u503c")),t.a.createElement("blockquote",null,t.a.createElement("p",null,"\u6ca1\u6709\u8fd4\u56de\u4efb\u4f55\u503c\uff0c\u90a3\u4e48 ",t.a.createElement("code",null,"then")," \u8fd4\u56de\u7684 ",t.a.createElement("code",null,"Promise")," \u5c06\u4f1a\u6210\u4e3a\u63a5\u53d7\u72b6\u6001\uff0c\u5e76\u4e14\u8be5\u63a5\u53d7\u72b6\u6001\u7684\u56de\u8c03\u51fd\u6570\u7684\u53c2\u6570\u503c\u4e3a ",t.a.createElement("code",null,"undefined"))),t.a.createElement("blockquote",null,t.a.createElement("p",null,"\u629b\u51fa\u4e00\u4e2a\u9519\u8bef\uff0c\u90a3\u4e48 ",t.a.createElement("code",null,"then")," \u8fd4\u56de\u7684 ",t.a.createElement("code",null,"Promise")," \u5c06\u4f1a\u6210\u4e3a\u62d2\u7edd\u72b6\u6001\uff0c\u5e76\u4e14\u5c06\u629b\u51fa\u7684\u9519\u8bef\u4f5c\u4e3a\u62d2\u7edd\u72b6\u6001\u7684\u56de\u8c03\u51fd\u6570\u7684\u53c2\u6570\u503c")),t.a.createElement("blockquote",null,t.a.createElement("p",null,"\u8fd4\u56de\u4e00\u4e2a\u5df2\u7ecf\u662f\u63a5\u53d7\u72b6\u6001\u7684 ",t.a.createElement("code",null,"Promise"),"\uff0c\u90a3\u4e48 ",t.a.createElement("code",null,"then")," \u8fd4\u56de\u7684 ",t.a.createElement("code",null,"Promise")," \u4e5f\u4f1a\u6210\u4e3a\u63a5\u53d7\u72b6\u6001\uff0c\u5e76\u4e14\u5c06\u90a3\u4e2a ",t.a.createElement("code",null,"Promise")," \u7684\u63a5\u53d7\u72b6\u6001\u7684\u56de\u8c03\u51fd\u6570\u7684\u53c2\u6570\u503c\u4f5c\u4e3a\u8be5\u88ab\u8fd4\u56de\u7684 ",t.a.createElement("code",null,"Promise")," \u7684\u63a5\u53d7\u72b6\u6001\u56de\u8c03\u51fd\u6570\u7684\u53c2\u6570\u503c\u3002")),t.a.createElement("blockquote",null,t.a.createElement("p",null,"\u8fd4\u56de\u4e00\u4e2a\u5df2\u7ecf\u662f\u62d2\u7edd\u72b6\u6001\u7684 ",t.a.createElement("code",null,"Promise"),"\uff0c\u90a3\u4e48 ",t.a.createElement("code",null,"then")," \u8fd4\u56de\u7684 ",t.a.createElement("code",null,"Promise")," \u4e5f\u4f1a\u6210\u4e3a\u62d2\u7edd\u72b6\u6001\uff0c\u5e76\u4e14\u5c06\u90a3\u4e2a ",t.a.createElement("code",null,"Promise")," \u7684\u62d2\u7edd\u72b6\u6001\u7684\u56de\u8c03\u51fd\u6570\u7684\u53c2\u6570\u503c\u4f5c\u4e3a\u8be5\u88ab\u8fd4\u56de\u7684 ",t.a.createElement("code",null,"Promise")," \u7684\u62d2\u7edd\u72b6\u6001\u56de\u8c03\u51fd\u6570\u7684\u53c2\u6570\u503c\u3002")),t.a.createElement("blockquote",null,t.a.createElement("p",null,"\u8fd4\u56de\u4e00\u4e2a\u672a\u5b9a\u72b6\u6001\uff08pending\uff09\u7684 ",t.a.createElement("code",null,"Promise"),"\uff0c\u90a3\u4e48 ",t.a.createElement("code",null,"then")," \u8fd4\u56de ",t.a.createElement("code",null,"Promise")," \u7684\u72b6\u6001\u4e5f\u662f\u672a\u5b9a\u7684\uff0c\u5e76\u4e14\u5b83\u7684\u7ec8\u6001\u4e0e\u90a3\u4e2a ",t.a.createElement("code",null,"Promise")," \u7684\u7ec8\u6001\u76f8\u540c\uff1b\u540c\u65f6\uff0c\u5b83\u53d8\u4e3a\u7ec8\u6001\u65f6\u8c03\u7528\u7684\u56de\u8c03\u51fd\u6570\u53c2\u6570\u4e0e\u90a3\u4e2a ",t.a.createElement("code",null,"Promise")," \u53d8\u4e3a\u7ec8\u6001\u65f6\u7684\u56de\u8c03\u51fd\u6570\u7684\u53c2\u6570\u662f\u76f8\u540c\u7684")),t.a.createElement("ol",{start:3},t.a.createElement("li",null,"Promise.prototype.finally")),t.a.createElement("ul",null,t.a.createElement("li",null,"\u8fd4\u56de\u4e00\u4e2a ",t.a.createElement("code",null,"Promise"),"\u3002\u5728 ",t.a.createElement("code",null,"promise")," \u51b3\u8bae\u65f6\uff0c\u65e0\u8bba\u7ed3\u679c\u662f ",t.a.createElement("code",null,"fulfilled")," \u6216\u8005\u662f ",t.a.createElement("code",null,"rejected"),"\uff0c\u90fd\u4f1a\u6267\u884c\u6307\u5b9a\u7684\u56de\u8c03\u51fd\u6570"),t.a.createElement("li",null,"\u7531\u4e8e\u65e0\u6cd5\u77e5\u9053 ",t.a.createElement("code",null,"promise")," \u7684\u6700\u7ec8\u72b6\u6001\uff0c\u6240\u4ee5 ",t.a.createElement("code",null,"finally")," \u7684\u56de\u8c03\u51fd\u6570\u4e2d\u4e0d\u63a5\u6536\u4efb\u4f55\u53c2\u6570\uff0c\u5b83\u4ec5\u7528\u4e8e\u65e0\u8bba\u6700\u7ec8\u7ed3\u679c\u5982\u4f55\u90fd\u8981\u6267\u884c\u7684\u60c5\u51b5"),t.a.createElement("li",null,"\u4e0e Promise.resolve(2).then(() => ","{","}",", () => ","{","}",") \uff08resolved \u7684\u7ed3\u679c\u4e3a undefined\uff09\u4e0d\u540c\uff0cPromise.resolve(2).finally(() => ","{","}",") resolved \u7684\u7ed3\u679c\u4e3a 2"),t.a.createElement("li",null,"\u540c\u6837\uff0cPromise.reject(3).then(() => ","{","}",", () => ","{","}",") (rejected \u7684\u7ed3\u679c\u4e3a undefined), Promise.reject(3).finally(() => ","{","}",") rejected \u7684\u7ed3\u679c\u4e3a 3")),t.a.createElement(a["a"],{code:"let p1 = Promise.resolve(2);\n\nlet p2 = Promise.reject(3);\n\np1.then((res) => {\n  console.log(res);\n});\n// Promise\xa0{<fulfilled>: undefined}\n\np1.finally((res) => {\n  console.log(res);\n});\n// Promise\xa0{<fulfilled>: 2}\n\np2.catch((reason) => {\n  console.log(reason);\n});\n// Promise\xa0{<fulfilled>: undefined}\n\np2.finally((reason) => {\n  console.log(reason);\n});\n// Promise\xa0{<rejected>: 3}",lang:"js"}),t.a.createElement("ul",null,t.a.createElement("li",null,"\u4e5f\u5c31\u662f\u8bf4\uff0c",t.a.createElement("code",null,"finally")," \u4f1a\u5c06\u7ed3\u679c\u4e0e\u9519\u8bef\u4f20\u9012\u7ed9\u4e0b\u4e00\u4e2a\u5904\u7406\u7a0b\u5e8f"))))})));n["default"]=e=>{var n=t.a.useContext(o["context"]),l=n.demos;return t.a.useEffect((()=>{var n;null!==e&&void 0!==e&&null!==(n=e.location)&&void 0!==n&&n.hash&&o["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),t.a.createElement(c,{demos:l})}}}]);