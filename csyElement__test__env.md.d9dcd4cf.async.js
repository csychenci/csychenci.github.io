(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[13],{B9La:function(e,t,n){"use strict";n.r(t);var a=n("q1tI"),l=n.n(a),r=n("dEAq"),c=(n("0H/f"),n("N0lm"),n("DgDr"),n("cGlH"),n("ekZX"),n("Bjia")),s=(n("tVxl"),n("1pSt"),l.a.memo((e=>{e.demos;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"markdown"},l.a.createElement("h1",{id:"\u9879\u76ee\u73af\u5883"},l.a.createElement(r["AnchorLink"],{to:"#\u9879\u76ee\u73af\u5883","aria-hidden":"true",tabIndex:-1},l.a.createElement("span",{className:"icon icon-link"})),"\u9879\u76ee\u73af\u5883"),l.a.createElement("hr",null),l.a.createElement("h2",{id:"\u73af\u5883\u642d\u5efa"},l.a.createElement(r["AnchorLink"],{to:"#\u73af\u5883\u642d\u5efa","aria-hidden":"true",tabIndex:-1},l.a.createElement("span",{className:"icon icon-link"})),"\u73af\u5883\u642d\u5efa"),l.a.createElement("hr",null),l.a.createElement("ol",null,l.a.createElement("li",null,"\u4f7f\u7528 ",l.a.createElement("em",null,"create-react-app"))),l.a.createElement(c["a"],{code:"npx create-react-app my-app --template typescript",lang:"bash"}),l.a.createElement("ol",{start:2},l.a.createElement("li",null,"\u624b\u52a8\u65b9\u5f0f\u642d\u5efa")),l.a.createElement("ul",null,l.a.createElement("li",null,"\u5b89\u88c5 ",l.a.createElement("em",null,"react"),"\u3001",l.a.createElement("em",null,"react-dom"),"\u3001",l.a.createElement("em",null,"react-redux"),"\u3001",l.a.createElement("em",null,"typescript")," \u76f8\u5173\u5e93")),l.a.createElement(c["a"],{code:"npm i react react-dom react-redux typescript --save",lang:"bash"}),l.a.createElement("ol",{start:3},l.a.createElement("li",null,"\u4e3a\u76f8\u5173\u5e93\u5b89\u88c5\u58f0\u660e\u6587\u4ef6")),l.a.createElement(c["a"],{code:"npm i @types/react @types/react-dom @types/react-redux --save-dev",lang:"bash"}),l.a.createElement("ul",null,l.a.createElement("li",null,"\u521b\u5efa ",l.a.createElement("em",null,l.a.createElement("code",null,"tsconfig.json")),"\uff0c\u5b83\u662f\u5b58\u653e\u7f16\u8bd1 ",l.a.createElement("em",null,"ts")," \u7684\u914d\u7f6e\u6587\u4ef6")),l.a.createElement(c["a"],{code:'{\n  "compilerOptions": {\n    "target": "es5", // \u7f16\u8bd1\u7684\u76ee\u6807\n    "allowJs": true,\n    "skipLibCheck": true,\n    "esModuleInterop": true,\n    "allowSyntheticDefaultImports": true,\n    "strict": true,\n    "forceConsistentCasingInFileNames": true,\n    "noFallthroughCasesInSwitch": true,\n    "noUnusedLocals": false,\n    "noUnusedParameters": false,\n    "module": "esnext",\n    "moduleResolution": "node",\n    "resolveJsonModule": true,\n    "isolatedModules": true,\n    "noEmit": false,\n    "jsx": "preserve",\n    // jsx: \u8fd9\u4e2a\u914d\u7f6e\u662f\u5728tsx\u4e2d\u652f\u6301jsx\uff0c\u53ef\u9009\u53c2\u6570preserve\uff0creact\u548creact-native\uff1b\u8fd9\u4e9b\u6a21\u5f0f\u53ea\u5728\u4ee3\u7801\u751f\u6210\u9636\u6bb5\u8d77\u4f5c\u7528 - \u7c7b\u578b\u68c0\u67e5\u5e76\u4e0d\u53d7\u5f71\u54cd\u3002 \u5728preserve\u6a21\u5f0f\u4e0b\u751f\u6210\u4ee3\u7801\u4e2d\u4f1a\u4fdd\u7559JSX\u4ee5\u4f9b\u540e\u7eed\u7684\u8f6c\u6362\u64cd\u4f5c\u4f7f\u7528\uff08\u6bd4\u5982\uff1aBabel\uff09\u3002 \u53e6\u5916\uff0c\u8f93\u51fa\u6587\u4ef6\u4f1a\u5e26\u6709.jsx\u6269\u5c55\u540d\u3002 react\u6a21\u5f0f\u4f1a\u751f\u6210React.createElement\uff0c\u5728\u4f7f\u7528\u524d\u4e0d\u9700\u8981\u518d\u8fdb\u884c\u8f6c\u6362\u64cd\u4f5c\u4e86\uff0c\u8f93\u51fa\u6587\u4ef6\u7684\u6269\u5c55\u540d\u4e3a.js\u3002 react-native\u76f8\u5f53\u4e8epreserve\uff0c\u5b83\u4e5f\u4fdd\u7559\u4e86\u6240\u6709\u7684JSX\uff0c\u4f46\u662f\u8f93\u51fa\u6587\u4ef6\u7684\u6269\u5c55\u540d\u662f.js\n    "baseUrl": "./",\n    // baseUrl\uff1aTS\u7f16\u8bd1\u5668\u9700\u8981\u7f16\u8bd1\u6a21\u5757\u7684\u5730\u5740\n    "paths": {\n      // paths:\u57fa\u4e8ebaseUrl\u7684\u8def\u5f84\uff0c\u6307\u5b9a\u6a21\u5757\u548c\u8def\u5f84\u7684\u6620\u5c04\u5173\u7cfb\n      "@": ["src/"]\n    }\n  },\n  "include": ["./src/**/*"]\n  //   include: \u9700\u8981\u7f16\u8bd1\u7684\u76ee\u6807\u6587\u4ef6\u5939\n}',lang:"json"}),l.a.createElement("ol",{start:4},l.a.createElement("li",null,"\u5b89\u88c5 webpack\uff0c\u5e76\u521b\u5efa\u76f8\u5e94\u7684\u914d\u7f6e\u6587\u4ef6")),l.a.createElement(c["a"],{code:"npm i webpack webpack-cli --save-dev",lang:"sh"}),l.a.createElement(c["a"],{code:"+ webpack.commom.js\n# \u5b58\u653e\u516c\u5171\u7684\u914d\u7f6e\n+ webpack.dev.js\n# \u5b58\u653e\u5f00\u53d1\u73af\u5883\u7684\u914d\u7f6e\n+ webpack.prod.js\n# \u5b58\u653e\u751f\u4ea7\u73af\u5883\u7684\u914d\u7f6e",lang:"diff"}),l.a.createElement("ol",{start:5},l.a.createElement("li",null,"\u7edf\u4e00\u4ee3\u7801\u98ce\u683c")),l.a.createElement("ul",null,l.a.createElement("li",null,"\u5b89\u88c5\u5b8c\u4e4b\u540e\u53ef\u4ee5\u58f0\u660e\u4e24\u4e2a\u6587\u4ef6\uff0c.prettierignore \u8868\u793a prettier \u5ffd\u7565\u4e0d\u9700\u8981\u53bb\u68c0\u67e5\u7684\u76ee\u5f55\uff09\uff0c\u800c.prettierrc.js \u5c31\u662f\u6211\u4eec\u7684 prettier \u89c4\u5219\u5b9a\u4e49\u7684")),l.a.createElement(c["a"],{code:"npm install prettier -D",lang:"sh"}),l.a.createElement(c["a"],{code:"# prettierignore\n# Ignore artifacts:\n+ node_modules\n+ dist\n+ .vscode\n+ .prettierignore",lang:"diff"}),l.a.createElement(c["a"],{code:"// .prettierrc.js\nmodule.exports = {\n  printWidth: 140,\n  tabWidth: 2,\n  semi: true,\n  singleQuote: true,\n  trailingComma: 'none',\n  bracketSpacing: true,\n  jsxBracketSameLine: true,\n  arrowParens: 'always',\n  insertPragma: false,\n  requirePragma: false,\n  useTabs: false,\n};",lang:"js"}),l.a.createElement("ul",null,l.a.createElement("li",null,"\u8fd8\u53ef\u4ee5\u901a\u8fc7\u5b89\u88c5 ",l.a.createElement("em",null,"vscode")," \u7684\u63d2\u4ef6 ",l.a.createElement("em",null,"prettier"),"\uff0c\u4f46\u5b83\u7684\u914d\u7f6e\u662f\u5168\u5c40\u7684\uff0c\u5982\u679c\u6211\u4eec\u5e0c\u671b\u4f7f\u7528\u5f53\u524d\u7684\u9879\u76ee ",l.a.createElement("em",null,"prettier")," \u914d\u7f6e\u7684\u8bdd\uff0c\u9700\u8981\u5728\u9879\u76ee\u6839\u76ee\u5f55\u4e0b\u65b0\u5efa ",l.a.createElement("em",null,l.a.createElement("code",null,".vscode"))," \u6587\u4ef6\u5939\u5e76\u521b\u5efa ",l.a.createElement("em",null,l.a.createElement("code",null,"settings.json"))," \u6587\u4ef6\uff0c\u5e76\u8bbe\u7f6e\u914d\u7f6e\u4f18\u5148\u7ea7\u9ad8\u4e8e\u7f16\u8f91\u5668\u7684\u5168\u5c40\u914d\u7f6e")),l.a.createElement(c["a"],{code:'{\n  // prettier\u89c4\u5219\u4f7f\u7528\u5f53\u524d\u76ee\u5f55\u7684.prettierrc.js\n  "prettier.configPath": ".prettierrc.js",\n  // \u4fdd\u5b58\u7684\u65f6\u5019\u81ea\u52a8\u683c\u5f0f\u5316\n  "editor.formatOnSave": true\n}',lang:"json"}),l.a.createElement("ol",{start:6},l.a.createElement("li",null,"\u89e3\u51b3\u4ee3\u7801\u8d28\u91cf")),l.a.createElement("ul",null,l.a.createElement("li",null,"\u901a\u8fc7 ",l.a.createElement("em",null,l.a.createElement("code",null,"eslint"))," \u6765\u89e3\u51b3\u4ee3\u7801\u8d28\u91cf\uff0c\u9996\u5148\u58f0\u660e\u4e00\u4e2a *",l.a.createElement("code",null,"eslintrc.js"),"*\u6587\u4ef6\uff0c\u914d\u7f6e\u5982\u4e0b")),l.a.createElement(c["a"],{code:"npm i eslint -D",lang:"sh"}),l.a.createElement(c["a"],{code:"// eslintrc.js\nmodule.exports = {\n  parser: '@typescript-eslint/parser', // \u5b9a\u4e49ESLint\u7684\u89e3\u6790\u5668\n  extends: ['plugin:prettier/recommended'], //\u5b9a\u4e49\u6587\u4ef6\u7ee7\u627f\u7684\u5b50\u89c4\u8303\n  plugins: ['@typescript-eslint', 'react-hooks', 'eslint-plugin-react'], //\u5b9a\u4e49\u4e86\u8be5eslint\u6587\u4ef6\u6240\u4f9d\u8d56\u7684\u63d2\u4ef6\n  env: {\n    //\u6307\u5b9a\u4ee3\u7801\u7684\u8fd0\u884c\u73af\u5883\n    browser: true,\n    node: true,\n  },\n  settings: {\n    //\u81ea\u52a8\u53d1\u73b0React\u7684\u7248\u672c\uff0c\u4ece\u800c\u8fdb\u884c\u89c4\u8303react\u4ee3\u7801\n    react: {\n      pragma: 'React',\n      version: 'detect',\n    },\n  },\n  parserOptions: {\n    //\u6307\u5b9aESLint\u53ef\u4ee5\u89e3\u6790JSX\u8bed\u6cd5\n    ecmaVersion: 2019,\n    sourceType: 'module',\n    ecmaFeatures: {\n      jsx: true,\n    },\n  },\n  rules: {\n    // \u81ea\u5b9a\u4e49\u7684\u4e00\u4e9b\u89c4\u5219\n    'prettier/prettier': 'error',\n    'linebreak-style': ['error', 'unix'],\n    'react-hooks/rules-of-hooks': 'error',\n    'react-hooks/exhaustive-deps': 'warn',\n    'react/jsx-uses-react': 'error',\n    'react/jsx-uses-vars': 'error',\n    'react/react-in-jsx-scope': 'error',\n    'valid-typeof': [\n      'warn',\n      {\n        requireStringLiterals: false,\n      },\n    ],\n  },\n};",lang:"js"}),l.a.createElement("ul",null,l.a.createElement("li",null,"parser \u914d\u7f6e\uff1a\u63d2\u4ef6@typescript-eslint/parser \u8ba9 ESLint \u5bf9 TypeScript \u7684\u8fdb\u884c\u89e3\u6790")),l.a.createElement(c["a"],{code:"npm i @typescript-eslint/parser -D",lang:"sh"}),l.a.createElement("ul",null,l.a.createElement("li",null,"extends \u914d\u7f6e\uff1a\u4e3a\u4e86\u9632\u6b62 eslint \u548c prettier \u7684\u89c4\u5219\u53d1\u751f\u51b2\u7a81\uff0c\u6211\u4eec\u9700\u8981\u96c6\u6210\u4e24\u8005\u5219\u8bbe\u7f6e\u4e3a['plugin:prettier/recommended']")),l.a.createElement(c["a"],{code:"npm i eslint-config-prettier eslint-plugin-prettier -D",lang:"sh"}),l.a.createElement("ul",null,l.a.createElement("li",null,"plugins \u914d\u7f6e: ",l.a.createElement("em",null,l.a.createElement("code",null,"@typescript-eslint")),"\uff1a\u5305\u542b\u4e86\u5404\u7c7b\u5b9a\u4e49\u597d\u7684\u68c0\u6d4b Typescript \u4ee3\u7801\u7684\u89c4\u8303\u3002",l.a.createElement("em",null,l.a.createElement("code",null,"react-hooks")),"\uff1a\u4e3a\u4e86\u68c0\u6d4b\u548c\u89c4\u8303 ",l.a.createElement("code",null,"React hooks")," \u7684\u4ee3\u7801\u89c4\u8303\u68c0\u67e5\u7684\u63d2\u4ef6\u3002",l.a.createElement("em",null,l.a.createElement("code",null,"eslint-plugin-react")),"\uff1a\u4e3a\u4e86\u68c0\u6d4b\u548c\u89c4\u8303 React \u4ee3\u7801\u7684\u4e66\u5199\u7684\u63d2\u4ef6")),l.a.createElement(c["a"],{code:"npm i eslint-plugin-react eslint-plugin-react-hooks @typescript-eslint/eslint-plugin -D",lang:"sh"}),l.a.createElement("ul",null,l.a.createElement("li",null,"\u6700\u540e\u518d\u5bf9 ",l.a.createElement("em",null,"settings.json")," \u8fdb\u884c\u4fee\u6539")),l.a.createElement(c["a"],{code:'{\n  "prettier.configPath": ".prettierrc.js",\n  "eslint.options": {\n    "extensions": [".js", ".ts", ".tsx", "jsx", "html"]\n  },\n  "editor.codeActionsOnSave": {\n    // \u4fdd\u5b58\u65f6\u4f7f\u7528eslint\u8fdb\u884c\u683c\u5f0f\u5316\n    "source.fixAll.eslint": true\n  }\n}',lang:"json"}),l.a.createElement("ol",{start:7},l.a.createElement("li",null,"\u89c4\u8303 Git \u63d0\u4ea4")),l.a.createElement("ul",null,l.a.createElement("li",null,"\u5728\u5c06\u4ee3\u7801\u63d0\u4ea4\u5230\u4ed3\u5e93\u4e4b\u524d\u6211\u4eec\u5e0c\u671b\u6211\u4eec\u7684\u4ee3\u7801\u5168\u90e8\u8fdb\u884c\u4ee3\u7801\u683c\u5f0f\u5316\u548c\u4ee3\u7801\u8d28\u91cf\u68c0\u67e5\uff0c\u4e3a\u6b64\u6211\u4eec\u9700\u8981\u4f7f\u7528\u5230\u4e00\u4e2a\u5de5\u5177\u5bf9\u6211\u4eec git \u7f13\u5b58\u533a\u6700\u65b0\u6539\u52a8\u8fc7\u7684\u6587\u4ef6\u8fdb\u884c\u683c\u5f0f\u5316\u548c lint \u89c4\u5219\u6821\u9a8c")),l.a.createElement(c["a"],{code:"npm install husky lint-staged -D",lang:"sh"}),l.a.createElement("ul",null,l.a.createElement("li",null,"\u4fee\u6539 ",l.a.createElement("em",null,"pakeage.json")," \u6587\u4ef6")),l.a.createElement(c["a"],{code:'// pakeage.json\n"husky": {\n   "hooks": {\n     "pre-commit": "lint-staged",\n   }\n },\n "lint-staged": {\n   "*.{ts,tsx,js,jsx}": [\n     "eslint --config .eslintrc.js"\n   ],\n   "**/*": "prettier --write ."\n }\n//  \u8fd9\u6837\u6211\u4eec\u4f7f\u7528ESlint\u9488\u5bf9ts,tsx,js,jsx\u7ed3\u5c3e\u7684\u6587\u4ef6\u8fdb\u884c\u4ee3\u7801\u8d28\u91cf\u68c0\u67e5\uff0c\u5e76\u4e14\u4f7f\u7528prettier\u5bf9\u6240\u6709\u7684\u6587\u4ef6\u8fdb\u884c\u4ee3\u7801\u683c\u5f0f\u5316',lang:"json"}),l.a.createElement("ul",null,l.a.createElement("li",null,"\u89c4\u8303 ",l.a.createElement("em",null,"git commit")," \u4fe1\u606f\u3002\u5177\u4f53\u53ef\u67e5\u770b\u8fd9\u4e00\u7bc7\u914d\u7f6e --\x3e ",l.a.createElement(r["Link"],{to:"https://juejin.cn/post/6878592895499108365#heading-15"},"[\u524d\u7aef\u9879\u76ee\u89c4\u8303]\u77e5\u6653 git commit \u63d0\u4ea4\u89c4\u8303\u4ee5\u53ca\u901a\u6653 commitlint"))),l.a.createElement(c["a"],{code:"npm i @commitlint/cli @commitlint/config-angular -D",lang:"js"}),l.a.createElement("ul",null,l.a.createElement("li",null,"\u521b\u5efa ",l.a.createElement("em",null,"commitlint.config.js")," \u6587\u4ef6")),l.a.createElement(c["a"],{code:"module.exports = { extends: ['@commitlint/config-angular'] };\n// \u4f7f\u7528angular\u7684commit\u7684\u89c4\u8303\uff0c\u6240\u4ee5\u4e0d\u9700\u8981\u7f16\u5199\u66f4\u591a\u7684\u914d\u7f6e\u4fe1\u606f",lang:"js"}),l.a.createElement("ul",null,l.a.createElement("li",null,"\u914d\u7f6e pre-commit \u4e4b\u540e\uff0c\u589e\u52a0\u4e0b\u9762\u7684\u4fe1\u606f")),l.a.createElement(c["a"],{code:'// pakeage.json\n"husky": {\n    "hooks": {\n      "pre-commit": "lint-staged",\n      // commit\u4fe1\u606f\n      "commit-msg": "commitlint -E HUSKY_GIT_PARAMS"\n      //   HUSKY_GIT_PARAMS \u4e3a\u6211\u4eeccommit\u7684\u4fe1\u606f \uff0c\u7136\u540e commitlint \u53bb\u4f1a\u5bf9\u8fd9\u4e9b\u4fe1\u606f\u8fdb\u884c lint \u6821\u9a8c\n    }\n  },',lang:"json"})))})));t["default"]=e=>{var t=l.a.useContext(r["context"]),n=t.demos;return l.a.useEffect((()=>{var t;null!==e&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.hash&&r["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),l.a.createElement(s,{demos:n})}}}]);